"use strict";(self.webpackChunkagro_web=self.webpackChunkagro_web||[]).push([[3545],{1303:function(e,r,n){n.d(r,{SV:function(){return o},cE:function(){return t}});var t={borderRadius:"5px",backgroundColor:"#F3F3F4",width:{md:"477.61px",xs:"100%"},"& fieldset":{border:"none"}},o={minWidth:{xs:"320px",md:"initial"}}},5013:function(e,r,n){n.d(r,{Z:function(){return p}});var t=n(1413),o=n(885),s=n(5987),a=n(2791),u=n(7865),c=n(8096),i=n(9321),l=n(184),d=["onChange","noneLabel","options","iconType","sx","backgroundColor"];function p(e){var r,n=e.onChange,p=void 0===n?function(e){}:n,m=e.noneLabel,h=e.options,f=void 0===h?[]:h,x=e.iconType,v=e.sx,g=void 0===v?{}:v,b=(e.backgroundColor,(0,s.Z)(e,d)),y=(0,a.useState)(""),Z=(0,o.Z)(y,2),w=Z[0],j=Z[1];if(!0===(!!x&&"filled"===x))r={"& .MuiSelect-icon":{backgroundColor:"primary.main",fill:"white",height:"100%",width:e.iconwidth||"48px",top:0,right:0}};else r={};return(0,l.jsx)(c.Z,{sx:{borderRadius:"5px",minWidth:120,width:e.width,height:e.height,backgroundColor:e.backgroundColor},children:(0,l.jsxs)(i.Z,(0,t.Z)((0,t.Z)({value:w,onChange:function(e){j(e.target.value),p(e)},displayEmpty:!0,inputProps:{"aria-label":"Without label"},sx:(0,t.Z)((0,t.Z)({overflow:"hidden",boxShadow:e.disableshadow?"none":"0px 5px 20px rgba(108, 117, 125, 0.15)","& *":{border:"none"}},r),g)},b),{},{children:[(0,l.jsx)(u.Z,{value:"",children:m||(0,l.jsx)("em",{children:"None"})}),f.map((function(e,r){return(0,l.jsx)(u.Z,{value:e.value,selected:e.selected,children:e.name||""},r)}))]}))})}},3545:function(e,r,n){n.r(r);var t=n(4165),o=n(5861),s=n(1413),a=n(885),u=n(2791),c=n(9434),i=n(6871),l=n(5705),d=n(132),p=n(3767),m=n(890),h=n(533),f=n(7123),x=n(254),v=n(5013),g=n(5865),b=n(5524),y=n(4034),Z=n(5163),w=n(4298),j=n(5750),k=n(7770),F=n(1350),N=n(1303),C=n(184);r.default=function(){var e=(0,c.I0)(),r=(0,i.s0)(),n=(0,u.useState)(!1),S=(0,a.Z)(n,2),P=S[0],A=S[1],z=(0,i.UO)(),R=(0,c.v9)((function(e){var r;return null===(r=e.AppReducer)||void 0===r?void 0:r.states})),B=(0,c.v9)((function(e){var r;return(null===(r=e.AuthReducer)||void 0===r?void 0:r.userProfile)||JSON.parse(sessionStorage.getItem("user_profile"))})),L=(0,s.Z)((0,s.Z)({},N.cE),{},{width:(0,s.Z)((0,s.Z)({},N.cE.width),{},{md:"auto"})}),M=(0,c.v9)((function(e){var r;return(null===(r=e.AppReducer)||void 0===r?void 0:r.localGovt)||[]})),_=(0,c.v9)((function(e){var r;return(null===(r=e.UserManagementReducer)||void 0===r?void 0:r.farmers)||{}})),D=(0,c.v9)((function(e){var r;return(null===(r=e.ConfigReducer)||void 0===r?void 0:r.cropProfiles)||{}})),q=function(r){return function(n){n.target.value?e((0,w.zW)(n.target.value)):e({type:F.UZ,payload:{localGovt:[]}}),r(n)}},I=d.Ry({state:y.t.blank().required("State is required").matches(/\d+/g),address:y.t.blank().required("Address is required"),community:y.t.blank().required("Local govt is required"),crop:y.t.blank().required("Crop is required").matches(/\d+/g),farmer:y.t.blank().required("Farmer is required")});return(0,u.useEffect)((function(){e((0,w.Pz)({})),e((0,j.n9)({page:1})),e((0,k.UA)())}),[B,e,z.farmId]),(0,C.jsx)(u.Fragment,{children:(0,C.jsxs)("section",{children:[(0,C.jsx)("nav",{id:"quick-nav",children:(0,C.jsx)(g.Z,{breadcrumbs:[(0,C.jsx)(m.Z,{color:"inherit",children:"Farm Management"},"1"),(0,C.jsx)(h.Z,{href:"/farm-management/farm-lots",color:"inherit",children:"Farm Units"},"2"),(0,C.jsx)(m.Z,{color:"primary.main",children:"Add Farm Unit"},"3")]})}),(0,C.jsxs)(p.Z,{direction:"column",px:2,py:3,sx:{backgroundColor:"#FFF",boxShadow:"0px 5px 20px rgba(108, 117, 125, 0.15)",borderRadius:"5px"},children:[(0,C.jsx)("h2",{style:{fontSize:"20px",marginLeft:"10px"},children:"Add Farm Unit"}),(0,C.jsx)(p.Z,{sx:{flexGrow:1},children:(0,C.jsx)(l.J9,{initialValues:{state:"",community:"",address:"",size:0,clay:0,slit:0,loam:0,nitrogen:0,phosphorus:0,potassium:0,crop:"",farmer:""},validationSchema:I,onSubmit:function(){var n=(0,o.Z)((0,t.Z)().mark((function n(o,s){var a,u;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=s.resetForm,u={state:o.state,community:o.community,address:o.address,size:o.size,crop:o.crop,clay:o.clay,slit:o.slit,loam:o.loam,nitrogen:o.nitrogen,phosphorus:o.phosphorus,potassium:o.potassium,farmer:o.farmer},console.log(u),A(!0),e((0,Z.nJ)(u)).then((function(e){A(!1),(null!==e&&void 0!==e&&e.data||null!==e&&void 0!==e&&e.success)&&(a(),window.setTimeout((function(){return r("/farm-management/farm-lots")}),1e3))}));case 6:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}(),children:function(e){var r=e.values,n=e.errors,t=e.touched,o=e.handleChange,s=e.handleBlur,a=e.handleSubmit;return(0,C.jsxs)("form",{onSubmit:a,className:"flex flex-col",style:{flexGrow:1},children:[(0,C.jsxs)(p.Z,{direction:"row",justifyContent:"space-between",sx:{flexWrap:{xs:"wrap",md:"nowrap"}},children:[(0,C.jsxs)(p.Z,{direction:"column",sx:{mx:1,width:"100%"},children:[(0,C.jsxs)("label",{htmlFor:"state",className:"second-text mb-4 mt-5",children:["State ",(0,C.jsx)("small",{className:"text-red-500",children:"*"})]}),(0,C.jsx)(v.Z,{id:"state",name:"state",value:r.state,onChange:q(o),onBlur:s,noneLabel:(0,C.jsx)("em",{children:"Select State"}),options:Object.values(R).map((function(e){return{name:e.name,value:e.state_id}})),iconType:"filled",width:{xs:"100%"},height:"44px",sx:{backgroundColor:"grey"},backgroundColor:"#F3F3F4",iconwidth:"48px",disableshadow:"true",className:n.state&&t.state?"input-error":null}),n.state&&t.state&&(0,C.jsx)("span",{className:"error",children:n.state})]}),(0,C.jsxs)(p.Z,{direction:"column",sx:{mx:1,width:"100%"},children:[(0,C.jsxs)("label",{htmlFor:"community",className:"second-text mb-4 mt-5",children:["LGA ",(0,C.jsx)("small",{className:"text-red-500",children:"*"})]}),(0,C.jsx)(v.Z,{id:"community",name:"community",value:r.community,onChange:o,onBlur:s,noneLabel:(0,C.jsx)("em",{children:"Select LGA"}),options:M.map((function(e){return{name:e.local_name,value:e.local_id}})),iconType:"filled",width:{xs:"100%"},height:"44px",sx:{backgroundColor:"grey"},backgroundColor:"#F3F3F4",iconwidth:"48px",disableshadow:"true",className:n.community&&t.community?"input-error":null}),n.community&&t.community&&(0,C.jsx)("span",{className:"error",children:n.community})]})]}),(0,C.jsxs)(p.Z,{direction:"column",sx:{mx:1},children:[(0,C.jsxs)("label",{htmlFor:"address",className:"second-text mb-4 mt-4",children:["Address ",(0,C.jsx)("small",{className:"text-red-500",children:"*"})]}),(0,C.jsx)(x.Z,{id:"address",name:"address",value:r.address,onChange:o,onBlur:s,sx:L,InputProps:{style:{height:"44px"}},className:n.address&&t.address?"input-error":null}),n.address&&t.address&&(0,C.jsx)("span",{className:"error",children:n.address})]}),(0,C.jsxs)(p.Z,{direction:"row",justifyContent:"space-between",sx:{flexWrap:{xs:"wrap",lg:"nowrap"}},children:[(0,C.jsxs)(p.Z,{direction:"column",sx:{mx:1,width:"100%"},children:[(0,C.jsx)("label",{htmlFor:"clay",className:"second-text mb-4 mt-4",children:"Soil Profile (Clay) %"}),(0,C.jsx)(x.Z,{id:"clay",name:"clay",onChange:o,onBlur:s,value:r.clay,type:"number",sx:L,InputProps:{style:{height:"44px"}},className:n.clay&&t.clay?"input-error":null}),n.clay&&t.clay&&(0,C.jsx)("span",{className:"error",children:n.clay})]}),(0,C.jsxs)(p.Z,{direction:"column",sx:{mx:1,width:"100%"},children:[(0,C.jsx)("label",{htmlFor:"phosphorus",className:"second-text mb-4 mt-4",children:"Phosphorus ( mg/L)"}),(0,C.jsx)(x.Z,{id:"phosphorus",name:"phosphorus",onChange:o,onBlur:s,value:r.phosphorus,type:"number",sx:L,InputProps:{style:{height:"44px"}},className:n.phosphorus&&t.phosphorus?"input-error":null}),n.phosphorus&&t.phosphorus&&(0,C.jsx)("span",{className:"error",children:n.phosphorus})]})]}),(0,C.jsxs)(p.Z,{direction:"row",justifyContent:"space-between",sx:{flexWrap:{xs:"wrap",lg:"nowrap"}},children:[(0,C.jsxs)(p.Z,{direction:"column",sx:{mx:1,width:"100%"},children:[(0,C.jsx)("label",{htmlFor:"loam",className:"second-text mb-4 mt-4",children:"Soil Profile (Loam) %"}),(0,C.jsx)(x.Z,{id:"loam",name:"loam",onChange:o,onBlur:s,value:r.loam,type:"number",sx:L,InputProps:{style:{height:"44px"}},className:n.loam&&t.loam?"input-error":null}),n.loam&&t.loam&&(0,C.jsx)("span",{className:"error",children:n.loam})]}),(0,C.jsxs)(p.Z,{direction:"column",sx:{mx:1,width:"100%"},children:[(0,C.jsx)("label",{htmlFor:"nitrogen",className:"second-text mb-4 mt-4",children:"Nitrogen (mg/L)"}),(0,C.jsx)(x.Z,{id:"nitrogen",name:"nitrogen",onChange:o,onBlur:s,value:r.nitrogen,type:"number",sx:L,InputProps:{style:{height:"44px"}},className:n.nitrogen&&t.nitrogen?"input-error":null}),n.nitrogen&&t.nitrogen&&(0,C.jsx)("span",{className:"error",children:n.nitrogen})]})]}),(0,C.jsxs)(p.Z,{direction:"row",justifyContent:"space-between",sx:{flexWrap:{xs:"wrap",lg:"nowrap"}},children:[(0,C.jsxs)(p.Z,{direction:"column",sx:{mx:1,width:"100%"},children:[(0,C.jsx)("label",{htmlFor:"slit",className:"second-text mb-4 mt-4",children:"Soil Profile (Slit) %"}),(0,C.jsx)(x.Z,{id:"slit",name:"slit",value:r.slit,onChange:o,onBlur:s,type:"number",sx:L,InputProps:{style:{height:"44px"}},className:n.slit&&t.slit?"input-error":null}),n.slit&&t.slit&&(0,C.jsx)("span",{className:"error",children:n.slit})]}),(0,C.jsxs)(p.Z,{direction:"column",sx:{mx:1,width:"100%"},children:[(0,C.jsx)("label",{htmlFor:"potassium",className:"second-text mb-4 mt-4",children:"Potassium (mg/L)"}),(0,C.jsx)(x.Z,{id:"potassium",name:"potassium",value:r.potassium,onChange:o,onBlur:s,type:"number",sx:L,InputProps:{style:{height:"44px"}},className:n.potassium&&t.potassium?"input-error":null}),n.potassium&&t.potassium&&(0,C.jsx)("span",{className:"error",children:n.potassium})]})]}),(0,C.jsxs)(p.Z,{direction:"column",sx:{mx:1},children:[(0,C.jsx)("label",{htmlFor:"size",className:"second-text mb-4 mt-4",children:"Size (Ha)"}),(0,C.jsx)(x.Z,{id:"size",name:"size",value:r.size,onChange:o,onBlur:s,type:"number",sx:L,InputProps:{style:{height:"44px"}},className:n.size&&t.size?"input-error":null}),n.size&&t.size&&(0,C.jsx)("span",{className:"error",children:n.size})]}),(0,C.jsxs)(p.Z,{direction:"row",justifyContent:"space-between",sx:{flexWrap:{xs:"wrap",lg:"nowrap"}},children:[(0,C.jsxs)(p.Z,{direction:"column",sx:{mx:1,width:"100%"},children:[(0,C.jsxs)("label",{htmlFor:"crop",className:"second-text mb-4 mt-4",children:["Crop ",(0,C.jsx)("small",{className:"text-red-500",children:"*"})]}),(0,C.jsx)(v.Z,{id:"crop",name:"crop",value:r.crop,onChange:o,onBlur:s,noneLabel:(0,C.jsx)("em",{children:"Select Crop"}),options:null===D||void 0===D?void 0:D.data.map((function(e){return{name:e.crop_name,value:e.id}})),iconType:"filled",width:"auto",height:"44px",sx:{backgroundColor:"grey"},backgroundColor:"#F3F3F4",disableshadow:"true",iconwidth:"48px",className:n.crop&&t.crop?"input-error":null}),n.crop&&t.crop&&(0,C.jsx)("span",{className:"error",children:n.crop})]}),(0,C.jsxs)(p.Z,{direction:"column",sx:{mx:1,width:"100%"},children:[(0,C.jsxs)("label",{htmlFor:"farmer",className:"second-text mb-4 mt-4",children:["Farmer ",(0,C.jsx)("small",{className:"text-red-500",children:"*"})]}),(0,C.jsx)(v.Z,{id:"farmer",name:"farmer",value:r.farmer,onChange:o,onBlur:s,noneLabel:(0,C.jsx)("em",{children:"Select Farmer"}),options:null===_||void 0===_?void 0:_.data.map((function(e){return{name:"".concat(e.first_name," ").concat(e.last_name),value:e.id}})),iconType:"filled",width:"auto",height:"44px",sx:{backgroundColor:"grey"},backgroundColor:"#F3F3F4",disableshadow:"true",iconwidth:"48px",className:n.farmer&&t.farmer?"input-error":null}),n.farmer&&t.farmer&&(0,C.jsx)("span",{className:"error",children:n.farmer})]})]}),(0,C.jsx)(f.Z,{children:(0,C.jsx)("div",{className:"buttons mt-8",children:(0,C.jsx)(b.Z,{type:"submit",disabled:P,value:P?"Adding...":"Submit",sx:{fontSize:"14px",borderRadius:"5px"}})})})]})}})})]})]})})}},5750:function(e,r,n){n.d(r,{NM:function(){return g},qH:function(){return k},cn:function(){return p},PH:function(){return y},x7:function(){return m},AI:function(){return F},h8:function(){return f},Cm:function(){return Z},sg:function(){return w},n9:function(){return x},wM:function(){return v},ZO:function(){return j},Rf:function(){return d},fP:function(){return b},Nq:function(){return h}});var t=n(4165),o=n(5861),s=n(38),a=n(1657),u=n(3528),c=n(4028);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=new FormData;return Object.keys(e).length>0&&(console.log({body:e}),Object.keys(e).forEach((function(n){r.append(n,e[n])}))),r}var l=n(4329),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var r=(0,o.Z)((0,t.Z)().mark((function r(n){var o,a,i,d;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.page||1,a=e.limit||10,i=(0,c.r)(e),n({type:l.Ny}),e=(0,c.r)(e),r.prev=5,r.next=8,s.Z.get("/viewusers?page=".concat(o,"&limit=").concat(a,"&query=").concat(i));case 8:d=r.sent,n({type:l.Oz,payload:d}),r.next=18;break;case 12:return r.prev=12,r.t0=r.catch(5),console.log(r.t0),n({type:l.wX}),(0,u.P)(r.t0,"Failed to fetch users"),r.abrupt("return",r.t0);case 18:case"end":return r.stop()}}),r,null,[[5,12]])})));return function(e){return r.apply(this,arguments)}}()},p=function(e){return function(){var r=(0,o.Z)((0,t.Z)().mark((function r(n){var o;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.Z.post("/users",e);case 3:if(null===(o=r.sent)||void 0===o||!o.success||null===o||void 0===o||!o.result){r.next=8;break}return(0,a.notify)("User added successfully",{type:"success"}),n({type:l.qH,payload:o.result}),r.abrupt("return",o);case 8:r.next=16;break;case 10:return r.prev=10,r.t0=r.catch(0),console.log(r.t0),n({type:l.Jh}),(0,u.P)(r.t0,"Failed to add user"),r.abrupt("return",r.t0);case 16:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e){return r.apply(this,arguments)}}()},m=function(e){return function(){var r=(0,o.Z)((0,t.Z)().mark((function r(n){var o;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e=i(e),r.next=4,(0,s.V)("formData").post("/users/bulk-upload",e,{});case 4:null!==(o=r.sent)&&void 0!==o&&o.success&&null!==o&&void 0!==o&&o.result&&((0,a.notify)("Users uploaded successfully",{type:"success"}),n(d({page:1}))),r.next=13;break;case 8:return r.prev=8,r.t0=r.catch(0),console.log(r.t0),(0,u.P)(r.t0,"Failed to upload users"),r.abrupt("return",r.t0);case 13:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},h=function(e,r){return function(){var n=(0,o.Z)((0,t.Z)().mark((function n(o){var c;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,s.Z.patch("/users/".concat(e),r);case 3:if(null===(c=n.sent)||void 0===c||!c.success||null===c||void 0===c||!c.result){n.next=7;break}return(0,a.notify)("User Updated successfully",{type:"success"}),n.abrupt("return",c);case 7:n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(0),console.log(n.t0),(0,u.P)(n.t0,"Failed to update user"),n.abrupt("return",n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},f=function(e){return function(){var r=(0,o.Z)((0,t.Z)().mark((function r(n){return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.Z.delete("/users/".concat(e));case 3:r.sent&&((0,a.notify)("User deleted successfully",{type:"success"}),n(d({page:1}))),r.next=12;break;case 7:return r.prev=7,r.t0=r.catch(0),console.log(r.t0),(0,u.P)(r.t0,"Failed to delete user"),r.abrupt("return",r.t0);case 12:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var r=(0,o.Z)((0,t.Z)().mark((function r(n){var o,a;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n({type:l._l}),e=(0,c.r)(e),r.prev=2,r.next=5,s.Z.get("/farmers".concat(e));case 5:null!==(o=r.sent)&&void 0!==o&&o.success&&null!==o&&void 0!==o&&o.result?n({type:l.cj,payload:null===o||void 0===o||null===(a=o.result)||void 0===a?void 0:a.data}):n({type:l.eZ}),r.next=15;break;case 9:return r.prev=9,r.t0=r.catch(2),console.log(r.t0),n({type:l.eZ}),(0,u.P)(r.t0),r.abrupt("return",r.t0);case 15:case"end":return r.stop()}}),r,null,[[2,9]])})));return function(e){return r.apply(this,arguments)}}()},v=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(r){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("/farmers/".concat(r));case 3:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.result);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),g=function(e){return function(){var r=(0,o.Z)((0,t.Z)().mark((function r(n){var o;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.Z.post("/farmers",e);case 3:return null!==(o=r.sent)&&void 0!==o&&o.success&&null!==o&&void 0!==o&&o.result&&((0,a.notify)("Farmer added successfully",{type:"success"}),n({type:l.Du,payload:o.result}),n(x({page:1}))),r.abrupt("return",o);case 8:return r.prev=8,r.t0=r.catch(0),console.log(r.t0),n({type:l.$0}),(0,u.P)(r.t0,"Failed to add farmer"),r.abrupt("return",r.t0);case 14:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},b=function(e,r){return function(){var n=(0,o.Z)((0,t.Z)().mark((function n(o){var c;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,s.Z.patch("/farmers/".concat(e),r);case 3:return null!==(c=n.sent)&&void 0!==c&&c.success&&null!==c&&void 0!==c&&c.result&&(0,a.notify)("Farmer updated successfully",{type:"success"}),n.abrupt("return",c);case 8:return n.prev=8,n.t0=n.catch(0),console.log(n.t0),(0,u.P)(n.t0,"Failed to update farmer"),n.abrupt("return",n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},y=function(e){return function(){var r=(0,o.Z)((0,t.Z)().mark((function r(n){var o;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e=i(e),r.next=4,(0,s.V)("formData")({method:"post",url:"/farmers/bulk-upload",data:e});case 4:null!==(o=r.sent)&&void 0!==o&&o.success&&null!==o&&void 0!==o&&o.result&&((0,a.notify)("Farmers uploaded successfully",{type:"success"}),n(x({page:1}))),r.next=13;break;case 8:return r.prev=8,r.t0=r.catch(0),console.log(r.t0),(0,u.P)(r.t0,"Failed to add farmer"),r.abrupt("return",r.t0);case 13:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},Z=function(e,r){return function(){var n=(0,o.Z)((0,t.Z)().mark((function n(o){var c;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,s.Z.post("/farmers/downloads/process-farmer-details",e);case 3:null!==(c=n.sent)&&void 0!==c&&c.success&&null!==c&&void 0!==c&&c.result&&((0,a.notify)("Farmers exported successfully",{type:"success"}),r("/user-management/farmers/exports")),n.next=12;break;case 7:return n.prev=7,n.t0=n.catch(0),console.log(n.t0),(0,u.P)(n.t0,"Failed to export farmers"),n.abrupt("return",n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},w=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(){var r,n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("/farmers/downloads");case 3:if(null===(r=e.sent)||void 0===r||!r.success||null===r||void 0===r||!r.result){e.next=6;break}return e.abrupt("return",null===r||void 0===r||null===(n=r.result)||void 0===n?void 0:n.data);case 6:return e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),(0,u.P)(e.t0,"Failed to fetch exports"),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var r=(0,o.Z)((0,t.Z)().mark((function r(n){var o,a;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n({type:l.jt}),e=(0,c.r)(e),r.prev=2,r.next=5,s.Z.get("/sourcing-partners".concat(e));case 5:a=r.sent,n({type:l.rE,payload:null===a||void 0===a||null===(o=a.result)||void 0===o?void 0:o.sourcing_partners}),r.next=15;break;case 9:return r.prev=9,r.t0=r.catch(2),console.log(r.t0),n({type:l.ZU}),(0,u.P)(r.t0,"Failed to fetch sourcing agents"),r.abrupt("return",r.t0);case 15:case"end":return r.stop()}}),r,null,[[2,9]])})));return function(e){return r.apply(this,arguments)}}()},k=function(e){return function(){var r=(0,o.Z)((0,t.Z)().mark((function r(n){var o;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.Z.post("/sourcing-partners",e);case 3:return o=r.sent,console.log(o),null!==o&&void 0!==o&&o.success&&null!==o&&void 0!==o&&o.result&&((0,a.notify)("Sourcing agent added successfully",{type:"success"}),n({type:l.YJ,payload:o.result})),r.abrupt("return",o);case 9:return r.prev=9,r.t0=r.catch(0),console.log(r.t0),n({type:l.Dv}),(0,u.P)(r.t0,"Failed to add sourcing agent"),r.abrupt("return",r.t0);case 15:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},F=function(e){return function(){var r=(0,o.Z)((0,t.Z)().mark((function r(n){return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.Z.delete("/sourcing-partners/".concat(e));case 3:r.sent&&((0,a.notify)("Sourcing agent deleted successfully",{type:"success"}),n(j({page:1}))),r.next=12;break;case 7:return r.prev=7,r.t0=r.catch(0),console.log(r.t0),(0,u.P)(r.t0,"Failed to delete sourcing agent"),r.abrupt("return",r.t0);case 12:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()}},4034:function(e,r,n){n.d(r,{t:function(){return o}});var t=n(132),o={name:function(e){return t.Z_().min(3,e?"".concat(e," must be 3 or more characters"):"Must be 3 or more characters")},number:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e20;return t.Rx().min(r,e?"".concat(e," must be greater than ").concat(r):"Must be greater than ".concat(r)).max(n,e?"".concat(e," must be less than ").concat(n):"Must be less than ".concat(n))},email:function(e){return t.Z_().email()},password:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:24;return t.Z_().min(r,e?"".concat(e," must be ").concat(r," or more characters"):"Must be 8 or more characters").max(n,e?"".concat(e," is too long"):"Too long")},date:function(e){return t.Z_().matches(/(\d{4}(-|\/|\\)\d{1,2}(-|\/|\\)\d{1,2})|(\d{1,2}(-|\/|\\)\d{1,2}(-|\/|\\)\d{4})/gi)},mobile:function(e){return t.Z_().matches(/[0-9)(+]/gi,"Invalid number")},bvn:function(e){return t.Z_().matches(/\d{11}/g,"Invalid BVN").length(11,"BVN must be 11 digits long")},blank:function(){return t.Z_()}}},7123:function(e,r,n){n.d(r,{Z:function(){return f}});var t=n(3366),o=n(7462),s=n(2791),a=n(8182),u=n(4419),c=n(7630),i=n(1046),l=n(1217);function d(e){return(0,l.Z)("MuiDialogActions",e)}(0,n(5878).Z)("MuiDialogActions",["root","spacing"]);var p=n(184),m=["className","disableSpacing"],h=(0,c.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,r){var n=e.ownerState;return[r.root,!n.disableSpacing&&r.spacing]}})((function(e){var r=e.ownerState;return(0,o.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!r.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),f=s.forwardRef((function(e,r){var n=(0,i.Z)({props:e,name:"MuiDialogActions"}),s=n.className,c=n.disableSpacing,l=void 0!==c&&c,f=(0,t.Z)(n,m),x=(0,o.Z)({},n,{disableSpacing:l}),v=function(e){var r=e.classes,n={root:["root",!e.disableSpacing&&"spacing"]};return(0,u.Z)(n,d,r)}(x);return(0,p.jsx)(h,(0,o.Z)({className:(0,a.Z)(v.root,s),ownerState:x,ref:r},f))}))},533:function(e,r,n){n.d(r,{Z:function(){return C}});var t=n(2982),o=n(885),s=n(4942),a=n(3366),u=n(7462),c=n(2791),i=n(8182),l=n(4419),d=n(4036),p=n(7630),m=n(1046),h=n(3031),f=n(2071),x=n(890),v=n(1217);function g(e){return(0,v.Z)("MuiLink",e)}var b=(0,n(5878).Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),y=n(8529),Z=n(2065),w={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},j=function(e){var r=e.theme,n=e.ownerState,t=function(e){return w[e]||e}(n.color),o=(0,y.D)(r,"palette.".concat(t),!1)||n.color,s=(0,y.D)(r,"palette.".concat(t,"Channel"));return"vars"in r&&s?"rgba(".concat(s," / 0.4)"):(0,Z.Fq)(o,.4)},k=n(184),F=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],N=(0,p.ZP)(x.Z,{name:"MuiLink",slot:"Root",overridesResolver:function(e,r){var n=e.ownerState;return[r.root,r["underline".concat((0,d.Z)(n.underline))],"button"===n.component&&r.button]}})((function(e){var r=e.theme,n=e.ownerState;return(0,u.Z)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&(0,u.Z)({textDecoration:"underline"},"inherit"!==n.color&&{textDecorationColor:j({theme:r,ownerState:n})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===n.component&&(0,s.Z)({position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(b.focusVisible),{outline:"auto"}))})),C=c.forwardRef((function(e,r){var n=(0,m.Z)({props:e,name:"MuiLink"}),s=n.className,p=n.color,x=void 0===p?"primary":p,v=n.component,b=void 0===v?"a":v,y=n.onBlur,Z=n.onFocus,j=n.TypographyClasses,C=n.underline,S=void 0===C?"always":C,P=n.variant,A=void 0===P?"inherit":P,z=n.sx,R=(0,a.Z)(n,F),B=(0,h.Z)(),L=B.isFocusVisibleRef,M=B.onBlur,_=B.onFocus,D=B.ref,q=c.useState(!1),I=(0,o.Z)(q,2),U=I[0],V=I[1],T=(0,f.Z)(r,D),W=(0,u.Z)({},n,{color:x,component:b,focusVisible:U,underline:S,variant:A}),O=function(e){var r=e.classes,n=e.component,t=e.focusVisible,o=e.underline,s={root:["root","underline".concat((0,d.Z)(o)),"button"===n&&"button",t&&"focusVisible"]};return(0,l.Z)(s,g,r)}(W);return(0,k.jsx)(N,(0,u.Z)({color:x,className:(0,i.Z)(O.root,s),classes:j,component:b,onBlur:function(e){M(e),!1===L.current&&V(!1),y&&y(e)},onFocus:function(e){_(e),!0===L.current&&V(!0),Z&&Z(e)},ref:T,ownerState:W,variant:A,sx:[].concat((0,t.Z)(Object.keys(w).includes(x)?[]:[{color:x}]),(0,t.Z)(Array.isArray(z)?z:[z]))},R))}))}}]);
//# sourceMappingURL=3545.183b084d.chunk.js.map