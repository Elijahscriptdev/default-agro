"use strict";(self.webpackChunkagro_web=self.webpackChunkagro_web||[]).push([[8541],{1303:function(e,r,n){n.d(r,{SV:function(){return a},cE:function(){return t}});var t={borderRadius:"5px",backgroundColor:"#F3F3F4",width:{md:"477.61px",xs:"100%"},"& fieldset":{border:"none"}},a={minWidth:{xs:"320px",md:"initial"}}},7068:function(e,r,n){n(2791);var t=n(4373),a=n(184);r.Z=function(e){var r=e.nextHandler,n=e.prevHandler,o=e.limitHandler,s=e.page,i=e.totalRecords,c=void 0===i?0:i,l=e.limit,u=void 0===l?1:l,d=e.showLimit,p=void 0===d||d,m=e.hideOnMobile,h=void 0!==m&&m,x=Math.ceil(c/u);return(0,a.jsxs)("div",{className:"flex justify-end table-controls ".concat(h?"hide-on-mobile":""," "),children:[p&&"false"!==p&&!1!==p?(0,a.jsxs)("div",{className:"filter-input mr-5",children:[(0,a.jsx)("label",{children:"Rows per page: "}),(0,a.jsxs)("select",{onChange:o,children:[(0,a.jsx)("option",{value:"15",children:"15"}),(0,a.jsx)("option",{value:"25",children:"25"}),(0,a.jsx)("option",{value:"50",children:"50"}),(0,a.jsx)("option",{value:"100",children:"100"})]})]}):null,(0,a.jsxs)("div",{className:"flex text-green-500",children:[(0,a.jsxs)("p",{className:"px-4",children:["Viewing ",(s-1)*u+1," -"," ",u*s>c?c:u*s," of"," ",c]}),(0,a.jsx)("button",{disabled:s<=1,onClick:n,children:(0,a.jsx)(t.u1R,{})}),(0,a.jsx)("button",{disabled:s>=x,onClick:r,children:(0,a.jsx)(t.hjJ,{})})]})]})}},5013:function(e,r,n){n.d(r,{Z:function(){return p}});var t=n(1413),a=n(885),o=n(5987),s=n(2791),i=n(7865),c=n(8096),l=n(9321),u=n(184),d=["onChange","noneLabel","options","iconType","sx","backgroundColor"];function p(e){var r,n=e.onChange,p=void 0===n?function(e){}:n,m=e.noneLabel,h=e.options,x=void 0===h?[]:h,f=e.iconType,y=e.sx,v=void 0===y?{}:y,g=(e.backgroundColor,(0,o.Z)(e,d)),_=(0,s.useState)(""),b=(0,a.Z)(_,2),j=b[0],Z=b[1];if(!0===(!!f&&"filled"===f))r={"& .MuiSelect-icon":{backgroundColor:"primary.main",fill:"white",height:"100%",width:e.iconwidth||"48px",top:0,right:0}};else r={};return(0,u.jsx)(c.Z,{sx:{borderRadius:"5px",minWidth:120,width:e.width,height:e.height,backgroundColor:e.backgroundColor},children:(0,u.jsxs)(l.Z,(0,t.Z)((0,t.Z)({value:j,onChange:function(e){Z(e.target.value),p(e)},displayEmpty:!0,inputProps:{"aria-label":"Without label"},sx:(0,t.Z)((0,t.Z)({overflow:"hidden",boxShadow:e.disableshadow?"none":"0px 5px 20px rgba(108, 117, 125, 0.15)","& *":{border:"none"}},r),v)},g),{},{children:[(0,u.jsx)(i.Z,{value:"",children:m||(0,u.jsx)("em",{children:"None"})}),x.map((function(e,r){return(0,u.jsx)(i.Z,{value:e.value,selected:e.selected,children:e.name||""},r)}))]}))})}},5461:function(e,r,n){n.d(r,{B5:function(){return S},C6:function(){return w},GL:function(){return N},S:function(){return q},d2:function(){return Z},eB:function(){return A},he:function(){return C},k_:function(){return F},y2:function(){return P},yN:function(){return k}});var t=n(4165),a=n(5861),o=n(885),s=n(2791),i=n(9434),c=n(5705),l=n(132),u=n(4034),d=n(7123),p=n(254),m=n(9955),h=n(8870),x=n(3767),f=n(4454),y=n(5524),v=n(5013),g=n(203),_=n(1303),b=n(7770),j=n(184),Z=function(e){var r=e.closeHandler,n=(0,i.I0)(),f=(0,s.useState)(!1),v=(0,o.Z)(f,2),Z=v[0],C=v[1],k=l.Ry({crop_name:u.t.name("Crop name").required("Crop name is required"),yield:u.t.number("Yield").required("Yield is required"),start_season:l.O7(),season_name:u.t.name("Season name").when("start_season",{is:!0,then:u.t.blank().required("Season name is required")})});return(0,j.jsxs)(h.Z,{sx:_.SV,children:[(0,j.jsx)(g.Z,{title:"Add Crop Profile",closeHandler:r}),(0,j.jsx)(c.J9,{initialValues:{crop_name:"",yield:0,start_season:!1,season_name:""},validationSchema:k,onSubmit:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(a,o){var s,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=o.resetForm,i={crop_name:a.crop_name,yield:a.yield,start_season:a.start_season},!0===a.start_season&&(i.season_name=a.season_name),C(!0),n((0,b.eH)(i)).then((function(){C(!1),s(),r()}));case 6:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),children:function(e){var n=e.values,t=e.errors,a=e.touched,o=e.handleChange,s=e.handleBlur,i=e.handleSubmit;return(0,j.jsxs)("form",{onSubmit:i,children:[(0,j.jsxs)(x.Z,{direction:"column",children:[(0,j.jsxs)("label",{htmlFor:"crop_name",className:"second-text my-3",children:["Crop Name ",(0,j.jsx)("small",{className:"text-red-500",children:"*"})]}),(0,j.jsx)(p.Z,{sx:_.cE,id:"crop_name",name:"crop_name",InputProps:{style:{height:"44px"}},onChange:o,onBlur:s,value:n.crop_name,className:t.crop_name&&a.crop_name?"input-error":null}),t.crop_name&&a.crop_name&&(0,j.jsx)("span",{className:"error",children:t.crop_name})]}),(0,j.jsxs)(x.Z,{direction:"column",children:[(0,j.jsxs)("label",{htmlFor:"yield",className:"second-text my-3",children:["Yield Forecast (Tonnes Per Ha)"," ",(0,j.jsx)("small",{className:"text-red-500",children:"*"})]}),(0,j.jsx)(p.Z,{sx:_.cE,id:"yield",name:"yield",InputProps:{style:{height:"44px"}},type:"number",onChange:o,onBlur:s,value:n.yield,className:t.yield&&a.yield?"input-error":null}),t.yield&&a.yield&&(0,j.jsx)("span",{className:"error",children:t.yield})]}),(0,j.jsxs)(x.Z,{direction:"column",children:[(0,j.jsx)("label",{htmlFor:"start_season",className:"second-text mt-2",children:"Start Season"}),(0,j.jsx)("div",{className:"switch",children:(0,j.jsx)(m.Z,{id:"start_season",name:"start_season",checked:n.start_season,onChange:o,inputProps:{"aria-label":"controlled"}})})]}),(0,j.jsxs)(x.Z,{direction:"column",children:[(0,j.jsx)("label",{htmlFor:"season_name",className:"second-text my-1.5",children:"Season Name"}),(0,j.jsx)(p.Z,{sx:_.cE,id:"season_name",name:"season_name",InputProps:{style:{height:"44px"}},onChange:o,onBlur:s,value:n.season_name,className:t.season_name&&a.season_name?"input-error":null}),t.season_name&&a.season_name&&(0,j.jsx)("span",{className:"error",children:t.season_name})]}),(0,j.jsx)(d.Z,{children:(0,j.jsxs)("div",{className:"buttons mt-8",children:[(0,j.jsx)("div",{className:"",children:(0,j.jsx)(y.Z,{value:"Cancel",onClick:r,sx:{fontSize:"14px",color:"#A9A9A9",backgroundColor:"white",borderRadius:"5px"}})}),(0,j.jsx)("div",{className:"mx-6",children:(0,j.jsx)(y.Z,{type:"submit",disabled:Z,value:Z?"Adding...":"Submit",sx:{fontSize:"14px",borderRadius:"5px"}})})]})})]})}})]})},C=function(e){var r=e.closeHandler,n=e.data,m=(0,i.I0)(),f=(0,s.useState)(!1),v=(0,o.Z)(f,2),Z=v[0],C=v[1],k=l.Ry({crop_name:u.t.name("Crop name").required("Crop name is required"),yield:u.t.number("Yield").required("Yield is required")});return(0,j.jsxs)(h.Z,{sx:_.SV,children:[(0,j.jsx)(g.Z,{title:"Edit Crop Profile",closeHandler:r}),(0,j.jsx)(c.J9,{initialValues:{crop_name:n.crop_name||"",yield:n.yield||0},validationSchema:k,onSubmit:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(a,o){var s,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=o.resetForm,i={crop_id:n.id,crop_name:a.crop_name,yield:a.yield},C(!0),m((0,b._Y)(i)).then((function(){C(!1),s(),r()}));case 5:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),children:function(e){var n=e.values,t=e.errors,a=e.touched,o=e.handleChange,s=e.handleBlur,i=e.handleSubmit;return(0,j.jsxs)("form",{onSubmit:i,children:[(0,j.jsxs)(x.Z,{direction:"column",children:[(0,j.jsx)("label",{htmlFor:"crop_name",className:"second-text my-3",children:"Crop Name"}),(0,j.jsx)(p.Z,{sx:_.cE,id:"crop_name",name:"crop_name",InputProps:{style:{height:"44px"}},onChange:o,onBlur:s,value:n.crop_name,className:t.crop_name&&a.crop_name?"input-error":null}),t.crop_name&&a.crop_name&&(0,j.jsx)("span",{className:"error",children:t.crop_name})]}),(0,j.jsxs)(x.Z,{direction:"column",children:[(0,j.jsx)("label",{htmlFor:"yield",className:"second-text my-3",children:"Yield Forecast (Tonnes Per Ha)"}),(0,j.jsx)(p.Z,{sx:_.cE,id:"yield",name:"yield",InputProps:{style:{height:"44px"}},onChange:o,onBlur:s,value:n.yield,className:t.yield&&a.yield?"input-error":null}),t.yield&&a.yield&&(0,j.jsx)("span",{className:"error",children:t.yield})]}),(0,j.jsx)(d.Z,{children:(0,j.jsxs)("div",{className:"buttons mt-8",children:[(0,j.jsx)("div",{className:"",children:(0,j.jsx)(y.Z,{value:"Cancel",onClick:r,sx:{fontSize:"14px",color:"#A9A9A9",backgroundColor:"white",borderRadius:"5px"}})}),(0,j.jsx)("div",{className:"mx-6",children:(0,j.jsx)(y.Z,{type:"submit",disabled:Z,value:Z?"Updating...":"Submit",sx:{fontSize:"14px",borderRadius:"5px"}})})]})})]})}})]})},k=function(e){var r=e.closeHandler,n=e.data,t=(0,i.I0)(),a=(0,s.useState)(!1),c=(0,o.Z)(a,2),l=c[0],u=c[1];return(0,j.jsxs)("div",{className:"",children:[(0,j.jsx)("h2",{className:"second-text my-1 text-center",style:{maxWidth:"300px"},children:"Are you sure you wanna delete this crop profile?"}),(0,j.jsxs)("div",{className:"buttons mt-2 justify-evenly",children:[(0,j.jsx)(y.Z,{value:"Cancel",onClick:r,sx:{color:"#A9A9A9",backgroundColor:"white"}}),(0,j.jsx)(y.Z,{value:l?"Deleting...":"Delete",onClick:function(e){u(!0),t((0,b.wr)(null===n||void 0===n?void 0:n.id)).then((function(){u(!1),r(e)}))},disabled:l,sx:{color:"white",backgroundColor:"red"}})]})]})},N=function(e){var r=e.closeHandler,n=e.cropProfiles,d=void 0===n?[]:n,m=(e.activityCategories,(0,i.I0)()),f=(0,s.useState)(!1),Z=(0,o.Z)(f,2),C=Z[0],k=Z[1],N=l.Ry({category_name:u.t.name("Category name").required("Category name is required"),crop_profile_id:u.t.blank().required("Crop profile is required")});return(0,j.jsxs)(h.Z,{sx:_.SV,children:[(0,j.jsx)(g.Z,{title:"Add Category",closeHandler:r}),(0,j.jsx)(c.J9,{initialValues:{category_name:"",crop_profile_id:""},validationSchema:N,onSubmit:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,a){var o,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=a.resetForm,s={category_name:n.category_name,crop_profile_id:n.crop_profile_id},k(!0),m((0,b.cq)(s)).then((function(){k(!1),o(),r()}));case 5:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),children:function(e){var n=e.values,t=e.errors,a=e.touched,o=e.handleChange,s=e.handleBlur,i=e.handleSubmit;return(0,j.jsxs)("form",{onSubmit:i,children:[(0,j.jsxs)(x.Z,{direction:"column",children:[(0,j.jsxs)("label",{htmlFor:"category_name",className:"second-text mb-4 mt-6",children:["Category Name ",(0,j.jsx)("small",{className:"text-red-500",children:"*"})]}),(0,j.jsx)(p.Z,{sx:_.cE,id:"category_name",name:"category_name",InputProps:{style:{height:"44px"}},onChange:o,onBlur:s,value:n.category_name,className:t.category_name&&a.category_name?"input-error":null}),t.category_name&&a.category_name&&(0,j.jsx)("span",{className:"error",children:t.category_name})]}),(0,j.jsxs)(x.Z,{direction:"column",children:[(0,j.jsxs)("label",{htmlFor:"crop_profile_id",className:"second-text my-4",children:["Crop Profile ",(0,j.jsx)("small",{className:"text-red-500",children:"*"})]}),(0,j.jsx)(v.Z,{id:"crop_profile_id",name:"crop_profile_id",onChange:o,onBlur:s,noneLabel:(0,j.jsx)("em",{children:"Select Crop"}),options:d.map((function(e){return{name:e.crop_name,value:e.id}})),iconType:"filled",width:{md:"478px",xs:"100%"},height:"44px",sx:{backgroundColor:"grey"},backgroundColor:"#F3F3F4",disableshadow:"true",value:n.crop_profile_id,className:t.crop_profile_id&&a.crop_profile_id?"input-error":null}),t.crop_profile_id&&a.crop_profile_id&&(0,j.jsx)("span",{className:"error",children:t.crop_profile_id})]}),(0,j.jsxs)("div",{className:"buttons mt-8",children:[(0,j.jsx)("div",{className:"",children:(0,j.jsx)(y.Z,{value:"Cancel",onClick:r,sx:{fontSize:"14px",color:"#A9A9A9",backgroundColor:"white",borderRadius:"5px"}})}),(0,j.jsx)("div",{className:"mx-6",children:(0,j.jsx)(y.Z,{type:"submit",disabled:C,value:C?"Adding...":"Submit",sx:{fontSize:"14px",borderRadius:"5px"}})})]})]})}})]})},w=function(e){var r=e.closeHandler,n=e.data,o=l.Ry({category:u.t.name("Category name").required("Category name is required")});return(0,j.jsxs)(h.Z,{sx:_.SV,children:[(0,j.jsx)(g.Z,{title:"Edit Category",closeHandler:r}),(0,j.jsx)(c.J9,{initialValues:{category:n.category||""},validationSchema:o,onSubmit:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r,n){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.resetForm,a={category:r.category},console.log(a);case 3:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),children:function(e){var n=e.values,t=e.errors,a=e.touched,o=e.handleChange,s=e.handleBlur,i=e.handleSubmit;return(0,j.jsxs)("form",{onSubmit:i,children:[(0,j.jsxs)(x.Z,{direction:"column",children:[(0,j.jsx)("label",{htmlFor:"category",className:"second-text mb-4 mt-6",children:"Category Name"}),(0,j.jsx)(p.Z,{id:"category",name:"category",sx:_.cE,InputProps:{style:{height:"44px"}},onChange:o,onBlur:s,value:n.category,className:t.category&&a.category?"input-error":null}),t.category&&a.category&&(0,j.jsx)("span",{className:"error",children:t.category})]}),(0,j.jsxs)(x.Z,{direction:"column",children:[(0,j.jsx)("label",{htmlFor:"crop_profile_id",className:"second-text my-3",children:"Crop Profile"}),(0,j.jsx)(v.Z,{id:"crop_profile_id",name:"crop_profile_id",noneLabel:(0,j.jsx)("em",{children:"Select Crop"}),iconType:"filled",width:{md:"478px",xs:"100%"},height:"44px",sx:{backgroundColor:"grey"},backgroundColor:"#F3F3F4",disableshadow:"true"}),t.crop_profile_id&&a.crop_profile_id&&(0,j.jsx)("span",{className:"error",children:t.crop_profile_id})]}),(0,j.jsxs)("div",{className:"buttons mt-8",children:[(0,j.jsx)("div",{className:"",children:(0,j.jsx)(y.Z,{value:"Cancel",onClick:r,sx:{fontSize:"14px",color:"#A9A9A9",backgroundColor:"white",borderRadius:"5px"}})}),(0,j.jsx)("div",{className:"mx-6",children:(0,j.jsx)(y.Z,{type:"submit",value:"Submit",sx:{fontSize:"14px",borderRadius:"5px"}})})]})]})}})]})},S=function(e){var r=e.closeHandler,n=(0,s.useState)(!1),t=(0,o.Z)(n,1)[0];return(0,j.jsxs)("div",{className:"",children:[(0,j.jsx)("h2",{className:"second-text my-1 text-center",style:{maxWidth:"300px"},children:"Are you sure you wanna delete this category?"}),(0,j.jsxs)("div",{className:"buttons mt-2 justify-evenly",children:[(0,j.jsx)(y.Z,{value:"Cancel",onClick:r,sx:{color:"#A9A9A9",backgroundColor:"white"}}),(0,j.jsx)(y.Z,{value:t?"Deleting...":"Delete",onClick:function(e){r(e)},sx:{color:"white",backgroundColor:"red"}})]})]})},A=function(e){var r=e.closeHandler,n=e.cropProfiles,d=void 0===n?[]:n,m=e.activityCategories,Z=void 0===m?[]:m,C=(0,i.I0)(),k=(0,s.useState)(!1),N=(0,o.Z)(k,2),w=N[0],S=N[1],A=l.Ry({task:u.t.name("Task name").required("Task name is required"),due_date:u.t.date("Expected date").required("Expected date is required"),category_id:u.t.blank().required("Category is required")});return(0,j.jsxs)(h.Z,{sx:_.SV,children:[(0,j.jsx)(g.Z,{title:"Add task",closeHandler:r}),(0,j.jsx)(c.J9,{initialValues:{crop_name:"",category_id:"",due_date:"",task:"",identity:!1},validationSchema:A,onSubmit:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,a){var o,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=a.resetForm,s={category_id:n.category_id,due_date:n.due_date,task:n.task,identity:n.identity},console.log(s),S(!0),C((0,b.Pb)(s)).then((function(){S(!1),o(),r()}));case 6:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),children:function(e){var n=e.values,t=e.errors,a=e.touched,o=e.handleChange,s=e.handleBlur,i=e.handleSubmit;return(0,j.jsxs)("form",{onSubmit:i,children:[(0,j.jsxs)(x.Z,{direction:"column",children:[(0,j.jsx)("label",{htmlFor:"crop_name",className:"second-text mt-4 mb-3",children:"Crop Profile"}),(0,j.jsx)(v.Z,{id:"crop_name",name:"crop_name",noneLabel:(0,j.jsx)("em",{children:"Select Crop"}),options:d.map((function(e){return{name:e.crop_name,value:e.id}})),value:n.crop_name,onChange:o,onBlur:s,iconType:"filled",width:{md:"478px",xs:"100%"},height:"44px",sx:{backgroundColor:"grey"},backgroundColor:"#F3F3F4",disableshadow:"true"}),t.crop_name&&a.crop_name&&(0,j.jsx)("span",{className:"error",children:t.crop_name})]}),(0,j.jsxs)(x.Z,{direction:"column",children:[(0,j.jsx)("label",{htmlFor:"category_id",className:"second-text mt-4 mb-3",children:"Category Name"}),(0,j.jsx)(v.Z,{noneLabel:(0,j.jsx)("em",{children:"Select Category"}),id:"category_id",name:"category_id",value:n.category_id,onChange:o,onBlur:s,options:Z.map((function(e){return{name:e.category,value:e.id}})),iconType:"filled",width:{md:"478px",xs:"100%"},height:"44px",sx:{backgroundColor:"grey"},backgroundColor:"#F3F3F4",disableshadow:"true",className:t.category_id&&a.category_id?"input-error":null}),t.category_id&&a.category_id&&(0,j.jsx)("span",{className:"error",children:t.category_id})]}),(0,j.jsxs)(x.Z,{direction:"column",children:[(0,j.jsx)("label",{htmlFor:"task",className:"second-text mt-4 mb-3",children:"Task Name"}),(0,j.jsx)(p.Z,{sx:_.cE,id:"task",name:"task",InputProps:{style:{height:"44px"}},onChange:o,onBlur:s,value:n.task,className:t.task&&a.task?"input-error":null}),t.task&&a.task&&(0,j.jsx)("span",{className:"error",children:t.task})]}),(0,j.jsxs)(x.Z,{direction:"column",children:[(0,j.jsx)("label",{htmlFor:"due_date",className:"second-text mt-4 mb-3",children:"Expected Date"}),(0,j.jsx)(p.Z,{type:"date",id:"due_date",name:"due_date",sx:_.cE,InputProps:{style:{height:"44px"}},onChange:o,onBlur:s,value:n.due_date,className:t.due_date&&a.due_date?"input-error":null}),t.due_date&&a.due_date&&(0,j.jsx)("span",{className:"error",children:t.due_date})]}),(0,j.jsxs)(x.Z,{direction:"row",spacing:.8,alignItems:"center",children:[(0,j.jsx)(f.Z,{id:"check",name:"identity",value:n.identity,onChange:o}),(0,j.jsx)("label",{htmlFor:"check",className:"text-sm",children:"Schedule Message"})]}),(0,j.jsxs)("div",{className:"buttons mb-7 mt-2",children:[(0,j.jsx)("div",{className:"",children:(0,j.jsx)(y.Z,{value:"Cancel",onClick:r,sx:{fontSize:"14px",color:"#A9A9A9",backgroundColor:"white",borderRadius:"5px"}})}),(0,j.jsx)("div",{className:"mx-6",children:(0,j.jsx)(y.Z,{type:"submit",disabled:w,value:w?"Adding Task...":"Submit",sx:{fontSize:"14px",borderRadius:"5px"}})})]})]})}})]})},F=function(e){var r=e.closeHandler,n=e.data,t=(0,i.I0)(),a=(0,s.useState)(!1),c=(0,o.Z)(a,2),l=c[0],u=c[1];return(0,j.jsxs)("div",{className:"",children:[(0,j.jsx)("h2",{className:"second-text my-1 text-center",style:{maxWidth:"300px"},children:"Are you sure you wanna delete this activity?"}),(0,j.jsxs)("div",{className:"buttons mt-2 justify-evenly",children:[(0,j.jsx)(y.Z,{value:"Cancel",onClick:r,sx:{color:"#A9A9A9",backgroundColor:"white"}}),(0,j.jsx)(y.Z,{value:l?"Deleting...":"Delete",onClick:function(e){u(!0),t((0,b._5)({task_id:n.id})).then((function(){u(!1),r(e)}))},sx:{color:"white",backgroundColor:"red"}})]})]})},P=function(e){var r=e.closeHandler,n=e.cropProfiles,d=void 0===n?[]:n,m=(0,i.I0)(),f=(0,s.useState)(!1),Z=(0,o.Z)(f,2),C=Z[0],k=Z[1],N=l.Ry({season_name:u.t.name("Season name").required("Season name is required"),crop_profile_id:u.t.blank().required("Crop is required")});return(0,j.jsxs)(h.Z,{sx:_.SV,children:[(0,j.jsx)(g.Z,{title:"Add Farm Season",closeHandler:r}),(0,j.jsx)(c.J9,{initialValues:{crop_profile_id:"",season_name:""},validationSchema:N,onSubmit:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,a){var o,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=a.resetForm,s={crop_profile_id:n.crop_profile_id,season_name:n.season_name},k(!0),m((0,b.Uk)(s)).then((function(){k(!1),o(),r()}));case 5:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),children:function(e){var n=e.values,t=e.errors,a=e.touched,o=e.handleChange,s=e.handleBlur,i=e.handleSubmit;return(0,j.jsxs)("form",{onSubmit:i,children:[(0,j.jsxs)(x.Z,{direction:"column",children:[(0,j.jsxs)("label",{htmlFor:"season_name",className:"second-text my-3",children:["Season Name ",(0,j.jsx)("small",{className:"text-red-500",children:"*"})]}),(0,j.jsx)(p.Z,{sx:_.cE,id:"season_name",name:"season_name",InputProps:{style:{height:"44px"}},onChange:o,onBlur:s,value:n.season_name,className:t.season_name&&a.season_name?"input-error":null}),t.season_name&&a.season_name&&(0,j.jsx)("span",{className:"error",children:t.season_name})]}),(0,j.jsxs)(x.Z,{direction:"column",children:[(0,j.jsxs)("label",{htmlFor:"crop_profile_id",className:"second-text my-3",children:["Crop Type ",(0,j.jsx)("small",{className:"text-red-500",children:"*"})]}),(0,j.jsx)(v.Z,{noneLabel:(0,j.jsx)("em",{children:"Select Crop"}),id:"crop_profile_id",name:"crop_profile_id",options:d.map((function(e){return{name:e.crop_name,value:e.id}})),value:n.crop_profile_id,onChange:o,onBlur:s,iconType:"filled",width:{md:"478px",xs:"100%"},height:"44px",sx:{backgroundColor:"grey"},backgroundColor:"#F3F3F4",disableshadow:"true",className:t.crop_profile_id&&a.crop_profile_id?"input-error":null}),t.crop_profile_id&&a.crop_profile_id&&(0,j.jsx)("span",{className:"error",children:t.crop_profile_id})]}),(0,j.jsxs)("div",{className:"buttons mt-7",children:[(0,j.jsx)("div",{className:"",children:(0,j.jsx)(y.Z,{value:"Cancel",onClick:r,sx:{fontSize:"14px",color:"#A9A9A9",backgroundColor:"white"}})}),(0,j.jsx)("div",{className:"mx-3",children:(0,j.jsx)(y.Z,{type:"submit",disabled:C,value:C?"Adding Season...":"Submit",sx:{fontSize:"14px"}})})]})]})}})]})},q=function(e){var r=e.closeHandler,n=e.data,t=(0,i.I0)(),a=n.started?"End Season":"Start Season",c=(0,s.useState)(!1),l=(0,o.Z)(c,2),u=l[0],d=l[1];return(0,j.jsxs)("div",{className:"",children:[(0,j.jsx)("h2",{className:"second-text my-1 text-center",style:{maxWidth:"300px"},children:"Are you sure you want to ".concat(n.started?"end":"start"," this season?")}),(0,j.jsxs)("div",{className:"buttons mt-2 justify-evenly",children:[(0,j.jsx)(y.Z,{value:"Cancel",onClick:r,sx:{color:"#A9A9A9",backgroundColor:"white"}}),(0,j.jsx)(y.Z,{value:u?"Updating...":a,onClick:function(e){d(!0),t((0,b.F1)({season_id:null===n||void 0===n?void 0:n.id})).then((function(){d(!1),r(e)}))},sx:{color:"white",backgroundColor:"red"}})]})]})}},7770:function(e,r,n){n.d(r,{Dc:function(){return x},F1:function(){return _},H6:function(){return b},Pb:function(){return f},UA:function(){return p},Uk:function(){return g},_5:function(){return y},_Y:function(){return d},ck:function(){return v},cq:function(){return h},eH:function(){return u},wr:function(){return m}});var t=n(4165),a=n(5861),o=n(38),s=n(1657),i=n(3528),c=n(4028),l=n(4584),u=function(e){return function(){var r=(0,a.Z)((0,t.Z)().mark((function r(n){return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o.Z.post("/config/crop-profile",e);case 3:r.sent?((0,s.notify)("Crop profile created",{type:"success"}),n(p())):(0,s.notify)("Failed",{type:"error"}),r.next=11;break;case 7:return r.prev=7,r.t0=r.catch(0),(0,i.P)(r.t0),r.abrupt("return",r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()},d=function(e){return function(){var r=(0,a.Z)((0,t.Z)().mark((function r(n){return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o.Z.put("/config/crop-profile",e);case 3:r.sent?((0,s.notify)("Crop profile updated",{type:"success"}),n(p())):(0,s.notify)("Failed to update",{type:"error"}),r.next=11;break;case 7:return r.prev=7,r.t0=r.catch(0),(0,i.P)(r.t0),r.abrupt("return",r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var r=(0,a.Z)((0,t.Z)().mark((function r(n){var a,s;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:l.rL}),a=(0,c.r)(e),r.next=5,o.Z.get("/dashboard/crop-profiles".concat(a));case 5:(s=r.sent)&&n({type:l.fu,payload:s}),r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(0),n({type:l.b1}),(0,i.P)(r.t0),r.abrupt("return",r.t0);case 14:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},m=function(e){return function(){var r=(0,a.Z)((0,t.Z)().mark((function r(n){var a;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o.Z.delete("/config/crop-profile/".concat(e));case 3:(a=r.sent)&&a.success?((0,s.notify)("Crop profile deleted",{type:"success"}),n(p())):(0,s.notify)("Failed to delete",{type:"error"}),r.next=11;break;case 7:return r.prev=7,r.t0=r.catch(0),(0,i.P)(r.t0),r.abrupt("return",r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()},h=function(e){return function(){var r=(0,a.Z)((0,t.Z)().mark((function r(n){return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o.Z.post("/config/category",e);case 3:r.sent?(0,s.notify)("Crop Category created",{type:"success"}):(0,s.notify)("Failed",{type:"error"}),r.next=11;break;case 7:return r.prev=7,r.t0=r.catch(0),(0,i.P)(r.t0),r.abrupt("return",r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var r=(0,a.Z)((0,t.Z)().mark((function r(n){var a,u,d,p,m;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:l.nE}),u=(0,c.r)(e),r.next=5,o.Z.get("/config/activities/tasks".concat(u));case 5:d=r.sent,p=d.success,m=null===(a=d.result)||void 0===a?void 0:a.data,p&&m?n({type:l.u4,payload:m}):(n({type:l.Gi}),(0,s.notify)(d.message||"An error occured",{type:"error"})),r.next=16;break;case 11:return r.prev=11,r.t0=r.catch(0),n({type:l.Gi}),(0,i.P)(r.t0),r.abrupt("return",r.t0);case 16:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()},f=function(e){return function(){var r=(0,a.Z)((0,t.Z)().mark((function r(n){var a;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o.Z.post("/config/task",e);case 3:(a=r.sent)?((0,s.notify)("Task created",{type:"success"}),n(x())):(0,s.notify)(a.message||"An error occured",{type:"error"}),r.next=11;break;case 7:return r.prev=7,r.t0=r.catch(0),(0,i.P)(r.t0),r.abrupt("return",r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()},y=function(e){return function(){var r=(0,a.Z)((0,t.Z)().mark((function r(n){var a;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o.Z.delete("/config/task",{data:e});case 3:(a=r.sent).success?((0,s.notify)("Task deleted successfully",{type:"success"}),n(x())):(0,s.notify)(a.message||"An error occured",{type:"error"}),r.next=11;break;case 7:return r.prev=7,r.t0=r.catch(0),(0,i.P)(r.t0),r.abrupt("return",r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var r=(0,a.Z)((0,t.Z)().mark((function r(n){var a,u,d,p,m,h,x,f;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:l.yz}),d=(0,c.r)(e),r.next=5,o.Z.get("/config/seasons".concat(d));case 5:p=r.sent,m=p.success,h=null===(a=p.result)||void 0===a||null===(u=a.data)||void 0===u?void 0:u.data,m&&h?n({type:l.xm,payload:{data:h,total:null===(x=p.result)||void 0===x||null===(f=x.data)||void 0===f?void 0:f.total}}):(n({type:l.Ro}),(0,s.notify)(p.message||"An error occured",{type:"error"})),r.next=16;break;case 11:return r.prev=11,r.t0=r.catch(0),n({type:l.Ro}),(0,i.P)(r.t0),r.abrupt("return",r.t0);case 16:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()},g=function(e){return function(){var r=(0,a.Z)((0,t.Z)().mark((function r(n){var a;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o.Z.post("/config/season",e);case 3:(a=r.sent)?((0,s.notify)("Season created",{type:"success"}),n(v())):(0,s.notify)(a.message||"An error occured",{type:"error"}),r.next=11;break;case 7:return r.prev=7,r.t0=r.catch(0),(0,i.P)(r.t0),r.abrupt("return",r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()},_=function(e){return function(){var r=(0,a.Z)((0,t.Z)().mark((function r(n){var a;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o.Z.put("/config/season",e);case 3:(a=r.sent)?((0,s.notify)("Season updated successfully",{type:"success"}),n(v())):(0,s.notify)(a.message||"An error occured",{type:"error"}),r.next=11;break;case 7:return r.prev=7,r.t0=r.catch(0),(0,i.P)(r.t0),r.abrupt("return",r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var r=(0,a.Z)((0,t.Z)().mark((function r(n){var a,u,d,p,m;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:l.Vt}),u=(0,c.r)(e),r.next=5,o.Z.get("/config/categories".concat(u));case 5:d=r.sent,p=d.success,m=null===(a=d.result)||void 0===a?void 0:a.data,p&&m?n({type:l.RJ,payload:{data:m,total:(null===m||void 0===m?void 0:m.length)||0}}):(n({type:l.oi}),(0,s.notify)(d.message||"An error occured",{type:"error"})),r.next=16;break;case 11:return r.prev=11,r.t0=r.catch(0),n({type:l.oi}),(0,i.P)(r.t0),r.abrupt("return",r.t0);case 16:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()}},4034:function(e,r,n){n.d(r,{t:function(){return a}});var t=n(132),a={name:function(e){return t.Z_().min(3,e?"".concat(e," must be 3 or more characters"):"Must be 3 or more characters")},number:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e20;return t.Rx().min(r,e?"".concat(e," must be greater than ").concat(r):"Must be greater than ".concat(r)).max(n,e?"".concat(e," must be less than ").concat(n):"Must be less than ".concat(n))},email:function(e){return t.Z_().email()},password:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:24;return t.Z_().min(r,e?"".concat(e," must be ").concat(r," or more characters"):"Must be 8 or more characters").max(n,e?"".concat(e," is too long"):"Too long")},date:function(e){return t.Z_().matches(/(\d{4}(-|\/|\\)\d{1,2}(-|\/|\\)\d{1,2})|(\d{1,2}(-|\/|\\)\d{1,2}(-|\/|\\)\d{4})/gi)},mobile:function(e){return t.Z_().matches(/[0-9)(+]/gi,"Invalid number")},bvn:function(e){return t.Z_().matches(/\d{11}/g,"Invalid BVN").length(11,"BVN must be 11 digits long")},blank:function(){return t.Z_()}}}}]);
//# sourceMappingURL=8541.e2a09443.chunk.js.map