"use strict";(self.webpackChunkagro_web=self.webpackChunkagro_web||[]).push([[8624],{3715:function(e,n,s){var a=s(1413),r=s(5987),t=(s(2791),s(254)),l=s(184),i=["sx","placeholder","value"];n.Z=function(e){var n=e.sx,s=void 0===n?{}:n,o=e.placeholder,d=void 0===o?"":o,u=e.value,c=void 0===u?"":u,m=(0,r.Z)(e,i);return(0,l.jsx)(t.Z,(0,a.Z)({placeholder:d,sx:(0,a.Z)({p:0,border:"1px solid rgba(0, 150, 136, 0.2)",borderRadius:"5px",backgroundColor:"#FFF","& *":{borderColor:"transparent"},"& input":{padding:"10px"}},s),value:c},m))}},6416:function(e,n,s){s.d(n,{o:function(){return t}});var a=s(9201),r=s(184),t=(0,a.Z)((0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search")},1682:function(e,n,s){s.d(n,{aL:function(){return C},ju:function(){return P},tb:function(){return F},Xk:function(){return S},_6:function(){return A},aK:function(){return _}});var a=s(4165),r=s(5861),t=s(885),l=s(1413),i=s(2791),o=s(9434),d=s(5705),u=s(132),c=s(7123),m=s(254),x=s(8870),h=s(3767),p=s(5524),v=s(5013),f=s(203),j=s(4034),b=s(1303),Z=s(5750),g=s.p+"static/media/FARMER UPLOAD SAMPLE.2db78dcd52202466642c.xlsx",w=s(468),N=s(184),y=(0,l.Z)((0,l.Z)({},b.cE),{},{width:(0,l.Z)((0,l.Z)({},b.cE.width),{},{md:"400px"})}),C=function(e){var n=e.closeHandler,s=e.roles,l=(0,o.I0)(),g=(0,i.useState)(!1),w=(0,t.Z)(g,2),C=w[0],_=w[1],S=u.Ry({first_name:j.t.name("First name").required("First name is required"),last_name:j.t.name("Last name").required("Last name is required"),email:j.t.email().required("Email is required"),password:j.t.password("Password").required("Password is required"),group:j.t.blank().required("User group is required"),bvn:j.t.blank().matches(/[0-9]/g,"Invalid BVN").length(11,"BVN must be 11 digits")});return(0,N.jsxs)(x.Z,{sx:b.SV,children:[(0,N.jsx)(f.Z,{title:"Add User",closeHandler:n}),(0,N.jsx)(d.J9,{initialValues:{first_name:"",last_name:"",email:"",password:"",group:"",bvn:"",phone:""},validationSchema:S,onSubmit:function(){var e=(0,r.Z)((0,a.Z)().mark((function e(s,r){var t,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.resetForm,i={first_name:s.first_name,last_name:s.last_name,email:s.email,password:s.password,group:s.group},_(!0),l((0,Z.cn)(i)).then((function(){_(!1),t(),n()}));case 5:case"end":return e.stop()}}),e)})));return function(n,s){return e.apply(this,arguments)}}(),children:function(e){var n=e.values,a=e.errors,r=e.touched,t=e.handleChange,l=e.handleBlur,i=e.handleSubmit;return(0,N.jsxs)("form",{onSubmit:i,children:[(0,N.jsxs)(h.Z,{direction:"row",justifyContent:"space-between",sx:{flexWrap:{xs:"wrap",md:"nowrap"}},children:[(0,N.jsxs)(h.Z,{direction:"column",sx:{mx:1,width:{xs:"100%",md:"auto"}},children:[(0,N.jsxs)("label",{htmlFor:"first_name",className:"second-text my-3",children:["First Name ",(0,N.jsx)("small",{className:"text-red-500",children:"*"})]}),(0,N.jsx)(m.Z,{id:"first_name",sx:y,name:"first_name",InputProps:{style:{height:"44px"}},onChange:t,onBlur:l,value:n.first_name,className:a.first_name&&r.first_name?"input-error":null})]}),(0,N.jsxs)(h.Z,{direction:"column",sx:{mx:1,width:{xs:"100%",md:"auto"}},children:[(0,N.jsxs)("label",{htmlFor:"last_name",className:"second-text my-3",children:["Last Name ",(0,N.jsx)("small",{className:"text-red-500",children:"*"})]}),(0,N.jsx)(m.Z,{sx:y,id:"last_name",name:"last_name",InputProps:{style:{height:"44px"}},onChange:t,onBlur:l,value:n.last_name,className:a.last_name&&r.last_name?"input-error":null})]})]}),(0,N.jsxs)(h.Z,{direction:"row",justifyContent:"space-between",children:[(0,N.jsxs)(h.Z,{direction:"column",sx:{mx:1},children:[(0,N.jsxs)("label",{htmlFor:"email",className:"second-text my-3",children:["Email ",(0,N.jsx)("small",{className:"text-red-500",children:"*"})]}),(0,N.jsx)(m.Z,{sx:y,id:"email",name:"email",InputProps:{style:{height:"44px"}},onChange:t,onBlur:l,value:n.email,className:a.email&&r.email?"input-error":null})]}),(0,N.jsxs)(h.Z,{direction:"column",sx:{mx:1},children:[(0,N.jsx)("label",{htmlFor:"phone",className:"second-text my-3",children:"Phone Number"}),(0,N.jsx)(m.Z,{sx:y,id:"phone",name:"phone",InputProps:{style:{height:"44px"}},onChange:t,onBlur:l,value:n.phone,className:a.phone&&r.phone?"input-error":null})]})]}),(0,N.jsxs)(h.Z,{direction:"row",justifyContent:"space-between",children:[(0,N.jsxs)(h.Z,{direction:"column",sx:{mx:1,width:{xs:"100%",md:"auto"}},children:[(0,N.jsxs)("label",{htmlFor:"password",className:"second-text my-3",children:["Password ",(0,N.jsx)("small",{className:"text-red-500",children:"*"})]}),(0,N.jsx)(m.Z,{type:"password",sx:y,id:"password",name:"password",InputProps:{style:{height:"44px"}},onChange:t,onBlur:l,value:n.password,className:a.password&&r.password?"input-error":null})]}),(0,N.jsxs)(h.Z,{direction:"column",sx:{mx:1,width:{xs:"100%",md:"auto"}},children:[(0,N.jsxs)("label",{htmlFor:"group",className:"second-text my-3",children:["User Group ",(0,N.jsx)("small",{className:"text-red-500",children:"*"})]}),(0,N.jsx)(v.Z,{name:"group",id:"group",value:n.group,onChange:t,noneLabel:(0,N.jsx)("em",{children:"Select Group"}),iconType:"filled",width:{md:"400px",xs:"100%"},height:"44px",sx:{backgroundColor:"grey"},backgroundColor:"#F3F3F4",disableshadow:"true",options:s.map((function(e){return{value:e.id,name:e.role}}))})]})]}),(0,N.jsxs)(h.Z,{direction:"column",sx:{mx:1,width:{xs:"100%",md:"auto"}},children:[(0,N.jsx)("label",{htmlFor:"bvn",className:"second-text my-3",children:"BVN"}),(0,N.jsx)(m.Z,{sx:y,id:"bvn",name:"bvn",InputProps:{style:{height:"44px"}},onChange:t,onBlur:l,value:n.bvn,className:a.bvn&&r.bvn?"input-error":null})]}),(0,N.jsx)(c.Z,{children:(0,N.jsx)("div",{className:"buttons mt-8",children:(0,N.jsx)("div",{className:"",children:(0,N.jsx)(p.Z,{type:"submit",value:C?"Adding...":"Submit"})})})})]})}})]})},_=function(e){var n=e.closeHandler,s=(0,o.I0)(),l=(0,i.useState)(!1),u=(0,t.Z)(l,2),v=u[0],j=u[1],g=(0,i.useState)(null),C=(0,t.Z)(g,2),_=C[0],S=C[1],F=(0,i.useState)(!1),P=(0,t.Z)(F,2),A=P[0],k=P[1],E=function(e){return function(n){k(!0),S(n.target.files[0]),e(n)}};return(0,N.jsxs)(x.Z,{sx:b.SV,children:[(0,N.jsx)(f.Z,{title:"Upload Excel File (.xls or .xlsx)",closeHandler:n}),(0,N.jsx)(d.J9,{initialValues:{upload:""},validate:function(e){var n={};return!e.upload&&A?n.upload="File is missing!":!/.+(\.csv|\.xlsx|\.xls)$/gi.test(e.upload)&&A&&(n.upload="The upload must be a file of type: csv, xlsx, xls."),n},onSubmit:function(){var e=(0,r.Z)((0,a.Z)().mark((function e(r,t){var l,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=t.resetForm,i={upload:_},j(!0),s((0,Z.x7)(i)).then((function(){j(!1),l(),n()}));case 5:case"end":return e.stop()}}),e)})));return function(n,s){return e.apply(this,arguments)}}(),children:function(e){var s=e.values,a=e.errors,r=e.touched,t=e.handleChange,l=e.handleBlur,i=e.handleSubmit;return(0,N.jsxs)("form",{onSubmit:i,children:[(0,N.jsxs)(h.Z,{direction:"column",children:[(0,N.jsx)(m.Z,{sx:y,id:"upload",name:"upload",type:"file",InputProps:{style:{height:"44px"}},onChange:E(t),onBlur:l,value:s.upload,className:a.upload&&r.upload?"input-error":null}),a.upload&&r.upload&&(0,N.jsx)("span",{className:"error",children:a.upload})]}),(0,N.jsx)(c.Z,{children:(0,N.jsxs)("div",{className:"buttons mt-8 justify-between",children:[(0,N.jsx)("div",{className:"mr-3",children:(0,N.jsx)(p.Z,{value:"Cancel",onClick:n,sx:{color:"#A9A9A9",backgroundColor:"white"}})}),(0,N.jsxs)("div",{className:"flex flex-row",children:[(0,N.jsx)("div",{className:"mr-3",children:(0,N.jsx)(p.Z,{type:"submit",className:"mx-1",value:v?"Uploading...":"Upload"})}),(0,N.jsx)("div",{className:"mr-3",children:(0,N.jsx)(p.Z,{href:w,download:"USER_UPLOAD_SAMPLE.xlsx",className:"mx-1",value:"Download Template"})})]})]})})]})}})]})},S=function(e){var n=e.closeHandler,s=e.data,l=e.roles,g=(0,o.I0)(),w=(0,i.useState)(!1),C=(0,t.Z)(w,2),_=C[0],S=C[1],F=u.Ry({first_name:j.t.name("First name").required("First name is required"),last_name:j.t.name("Last name").required("Last name is required"),email:j.t.email().required("Email is required"),mobile:j.t.mobile("Phone number"),bvn:j.t.bvn("BVN"),group:j.t.blank().required("User group is required")});return(0,N.jsxs)(x.Z,{sx:b.SV,children:[(0,N.jsx)(f.Z,{title:"Edit User",closeHandler:n}),(0,N.jsx)(d.J9,{initialValues:{first_name:s.first_name||"",last_name:s.last_name||"",email:s.email||"",mobile:s.mobile||"",bvn:s.bvn||"",group:s.group||""},validationSchema:F,onSubmit:function(){var e=(0,r.Z)((0,a.Z)().mark((function e(r,t){var l,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=t.resetForm,i={first_name:r.first_name,last_name:r.last_name,email:r.email,group:r.group},S(!0),g((0,Z.Nq)(s.id,i)).then((function(){S(!1),l(),n()}));case 5:case"end":return e.stop()}}),e)})));return function(n,s){return e.apply(this,arguments)}}(),children:function(e){var n=e.values,s=e.errors,a=e.touched,r=e.handleChange,t=e.handleBlur,i=e.handleSubmit;return(0,N.jsxs)("form",{onSubmit:i,children:[(0,N.jsxs)(h.Z,{direction:"row",justifyContent:"space-between",sx:{flexWrap:{xs:"wrap",md:"nowrap"}},children:[(0,N.jsxs)(h.Z,{direction:"column",sx:{mx:1,width:{xs:"100%",md:"auto"}},children:[(0,N.jsx)("label",{htmlFor:"first_name",className:"second-text my-3",children:"First Name"}),(0,N.jsx)(m.Z,{id:"first_name",sx:y,name:"first_name",InputProps:{style:{height:"44px"}},onChange:r,onBlur:t,value:n.first_name,className:s.first_name&&a.first_name?"input-error":null})]}),(0,N.jsxs)(h.Z,{direction:"column",sx:{mx:1,width:{xs:"100%",md:"auto"}},children:[(0,N.jsx)("label",{htmlFor:"last_name",className:"second-text my-3",children:"Last Name"}),(0,N.jsx)(m.Z,{sx:y,id:"last_name",name:"last_name",InputProps:{style:{height:"44px"}},onChange:r,onBlur:t,value:n.last_name,className:s.last_name&&a.last_name?"input-error":null})]})]}),(0,N.jsxs)(h.Z,{direction:"row",justifyContent:"space-between",children:[(0,N.jsxs)(h.Z,{direction:"column",sx:{mx:1},children:[(0,N.jsx)("label",{htmlFor:"email",className:"second-text my-3",children:"Email"}),(0,N.jsx)(m.Z,{sx:y,id:"email",name:"email",InputProps:{style:{height:"44px"}},onChange:r,onBlur:t,value:n.email,className:s.email&&a.email?"input-error":null})]}),(0,N.jsxs)(h.Z,{direction:"column",sx:{mx:1},children:[(0,N.jsx)("label",{htmlFor:"mobile",className:"second-text my-3",children:"Phone Number"}),(0,N.jsx)(m.Z,{sx:y,id:"mobile",name:"mobile",InputProps:{style:{height:"44px"}},onChange:r,onBlur:t,value:n.mobile,className:s.mobile&&a.mobile?"input-error":null})]})]}),(0,N.jsxs)(h.Z,{direction:"row",justifyContent:"space-between",children:[(0,N.jsxs)(h.Z,{direction:"column",sx:{mx:1,width:{xs:"100%",md:"auto"}},children:[(0,N.jsx)("label",{htmlFor:"bvn",className:"second-text my-3",children:"BVN"}),(0,N.jsx)(m.Z,{sx:y,id:"bvn",name:"bvn",InputProps:{style:{height:"44px"}},onChange:r,onBlur:t,value:n.bvn,className:s.bvn&&a.bvn?"input-error":null})]}),(0,N.jsxs)(h.Z,{direction:"column",sx:{mx:1,width:{xs:"100%",md:"auto"}},children:[(0,N.jsx)("label",{htmlFor:"group",className:"second-text my-3",children:"User Group"}),(0,N.jsx)(v.Z,{name:"group",id:"group",value:n.group,onChange:r,noneLabel:(0,N.jsx)("em",{children:"Select Group"}),iconType:"filled",width:{md:"400px",xs:"100%"},height:"44px",sx:{backgroundColor:"grey"},backgroundColor:"#F3F3F4",disableshadow:!0,options:l.map((function(e){return{value:e.id,name:e.role}}))})]})]}),(0,N.jsx)(c.Z,{children:(0,N.jsx)("div",{className:"buttons mt-8",children:(0,N.jsx)("div",{className:"",children:(0,N.jsx)(p.Z,{type:"submit",value:_?"Updating User...":"Submit"})})})})]})}})]})},F=function(e){var n=e.closeHandler,s=e.data,a=(0,o.I0)(),r=(0,i.useState)(!1),l=(0,t.Z)(r,2),d=l[0],u=l[1];return(0,N.jsxs)("div",{className:"",children:[(0,N.jsx)("h2",{className:"second-text my-1 text-center",style:{maxWidth:"300px"},children:"Are you sure you want to delete this user?"}),(0,N.jsxs)("div",{className:"buttons mt-2 justify-evenly",children:[(0,N.jsx)(p.Z,{value:"Cancel",onClick:n,sx:{color:"#A9A9A9",backgroundColor:"white"}}),(0,N.jsx)(p.Z,{value:d?"Deleting...":"Delete",disabled:d,onClick:function(e){u(!0),a((0,Z.h8)(null===s||void 0===s?void 0:s.id)).then((function(){u(!1),n(e)}))},sx:{color:"white",backgroundColor:"red"}})]})]})},P=function(e){var n=e.closeHandler,s=e.data,a=(0,o.I0)(),r=(0,i.useState)(!1),l=(0,t.Z)(r,2),d=l[0],u=l[1];return(0,N.jsxs)("div",{className:"",children:[(0,N.jsx)("h2",{className:"second-text my-1 text-center",style:{maxWidth:"300px"},children:"Are you sure you want to delete this sourcing agent?"}),(0,N.jsxs)("div",{className:"buttons mt-2 justify-evenly",children:[(0,N.jsx)(p.Z,{value:"Cancel",onClick:n,sx:{color:"#A9A9A9",backgroundColor:"white"}}),(0,N.jsx)(p.Z,{value:d?"Deleting...":"Delete",disabled:d,onClick:function(e){u(!0),a((0,Z.AI)(null===s||void 0===s?void 0:s.id)).then((function(){u(!1),n(e)}))},sx:{color:"white",backgroundColor:"red"}})]})]})},A=function(e){var n=e.closeHandler,s=(0,o.I0)(),l=(0,i.useState)(!1),u=(0,t.Z)(l,2),v=u[0],j=u[1],w=(0,i.useState)(null),C=(0,t.Z)(w,2),_=C[0],S=C[1],F=(0,i.useState)(!1),P=(0,t.Z)(F,2),A=P[0],k=P[1],E=function(e){return function(n){k(!0),S(n.target.files[0]),e(n)}};return(0,N.jsxs)(x.Z,{sx:b.SV,children:[(0,N.jsx)(f.Z,{title:"Upload Excel File (.xls or .xlsx)",closeHandler:n}),(0,N.jsx)(d.J9,{initialValues:{upload:""},validate:function(e){var n={};return!e.upload&&A?n.upload="File is missing!":!/.+(\.csv|\.xlsx|\.xls)$/gi.test(e.upload)&&A&&(n.upload="The upload must be a file of type: csv, xlsx, xls."),n},onSubmit:function(){var e=(0,r.Z)((0,a.Z)().mark((function e(r,t){var l,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=t.resetForm,i={upload:_},j(!0),s((0,Z.PH)(i)).then((function(){j(!1),l(),n()}));case 5:case"end":return e.stop()}}),e)})));return function(n,s){return e.apply(this,arguments)}}(),children:function(e){var s=e.values,a=e.errors,r=e.touched,t=e.handleChange,l=e.handleBlur,i=e.handleSubmit;return(0,N.jsxs)("form",{onSubmit:i,children:[(0,N.jsxs)(h.Z,{direction:"column",children:[(0,N.jsx)(m.Z,{sx:y,id:"upload",name:"upload",type:"file",InputProps:{style:{height:"44px"}},onChange:E(t),onBlur:l,value:s.upload,className:a.upload&&r.upload?"input-error":null}),a.upload&&r.upload&&(0,N.jsx)("span",{className:"error",children:a.upload})]}),(0,N.jsx)(c.Z,{children:(0,N.jsxs)("div",{className:"buttons mt-8 justify-between",children:[(0,N.jsx)("div",{className:"mr-3",children:(0,N.jsx)(p.Z,{value:"Cancel",onClick:n,sx:{color:"#A9A9A9",backgroundColor:"white"}})}),(0,N.jsxs)("div",{className:"flex flex-row",children:[(0,N.jsx)("div",{className:"mr-3",children:(0,N.jsx)(p.Z,{type:"submit",className:"mx-1",value:v?"Uploading...":"Upload"})}),(0,N.jsx)("div",{className:"mr-3",children:(0,N.jsx)(p.Z,{href:g,download:"FARMER_UPLOAD_SAMPLE.xlsx",className:"mx-1",value:"Download Template"})})]})]})})]})}})]})}},3466:function(e,n,s){s.d(n,{Z:function(){return w}});var a=s(4942),r=s(3366),t=s(7462),l=s(2791),i=s(8182),o=s(4419),d=s(4036),u=s(890),c=s(3840),m=s(2930),x=s(7630),h=s(1217);function p(e){return(0,h.Z)("MuiInputAdornment",e)}var v,f=(0,s(5878).Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),j=s(1046),b=s(184),Z=["children","className","component","disablePointerEvents","disableTypography","position","variant"],g=(0,x.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,n){var s=e.ownerState;return[n.root,n["position".concat((0,d.Z)(s.position))],!0===s.disablePointerEvents&&n.disablePointerEvents,n[s.variant]]}})((function(e){var n=e.theme,s=e.ownerState;return(0,t.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(n.vars||n).palette.action.active},"filled"===s.variant&&(0,a.Z)({},"&.".concat(f.positionStart,"&:not(.").concat(f.hiddenLabel,")"),{marginTop:16}),"start"===s.position&&{marginRight:8},"end"===s.position&&{marginLeft:8},!0===s.disablePointerEvents&&{pointerEvents:"none"})})),w=l.forwardRef((function(e,n){var s=(0,j.Z)({props:e,name:"MuiInputAdornment"}),a=s.children,x=s.className,h=s.component,f=void 0===h?"div":h,w=s.disablePointerEvents,N=void 0!==w&&w,y=s.disableTypography,C=void 0!==y&&y,_=s.position,S=s.variant,F=(0,r.Z)(s,Z),P=(0,m.Z)()||{},A=S;S&&P.variant,P&&!A&&(A=P.variant);var k=(0,t.Z)({},s,{hiddenLabel:P.hiddenLabel,size:P.size,disablePointerEvents:N,position:_,variant:A}),E=function(e){var n=e.classes,s=e.disablePointerEvents,a=e.hiddenLabel,r=e.position,t=e.size,l=e.variant,i={root:["root",s&&"disablePointerEvents",r&&"position".concat((0,d.Z)(r)),l,a&&"hiddenLabel",t&&"size".concat((0,d.Z)(t))]};return(0,o.Z)(i,p,n)}(k);return(0,b.jsx)(c.Z.Provider,{value:null,children:(0,b.jsx)(g,(0,t.Z)({as:f,ownerState:k,className:(0,i.Z)(E.root,x),ref:n},F,{children:"string"!==typeof a||C?(0,b.jsxs)(l.Fragment,{children:["start"===_?v||(v=(0,b.jsx)("span",{className:"notranslate",children:"\u200b"})):null,a]}):(0,b.jsx)(u.Z,{color:"text.secondary",children:a})}))})}))}}]);
//# sourceMappingURL=8624.09843656.chunk.js.map