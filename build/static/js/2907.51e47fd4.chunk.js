"use strict";(self.webpackChunkagro_web=self.webpackChunkagro_web||[]).push([[2907],{3715:function(e,r,n){var a=n(1413),t=n(5987),o=(n(2791),n(254)),i=n(184),l=["sx","placeholder","value"];r.Z=function(e){var r=e.sx,n=void 0===r?{}:r,s=e.placeholder,d=void 0===s?"":s,c=e.value,u=void 0===c?"":c,v=(0,t.Z)(e,l);return(0,i.jsx)(o.Z,(0,a.Z)({placeholder:d,sx:(0,a.Z)({p:0,border:"1px solid rgba(0, 150, 136, 0.2)",borderRadius:"5px",backgroundColor:"#FFF","& *":{borderColor:"transparent"},"& input":{padding:"10px"}},n),value:u},v))}},6416:function(e,r,n){n.d(r,{o:function(){return o}});var a=n(9201),t=n(184),o=(0,a.Z)((0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search")},2907:function(e,r,n){n.r(r);var a=n(885),t=n(2791),o=n(9434),i=n(3767),l=n(8870),s=n(890),d=n(3400),c=n(3466),u=n(7692),v=n(7425),p=n(6416),x=n(9373),f=n(7068),g=n(5013),h=n(3715),m=n(5524),j=n(2214),Z=n(3168),C=n(5865),w=n(5461),b=n(7770),k=n(184);r.default=function(){var e,r,n,y=(0,o.I0)(),H=(0,t.useState)(1),F=(0,a.Z)(H,2),S=F[0],R=F[1],A=(0,t.useState)(10),_=(0,a.Z)(A,2),E=_[0],I=_[1],L=(0,t.useState)(""),M=(0,a.Z)(L,2),z=M[0],N=M[1],P=(0,t.useState)(""),D=(0,a.Z)(P,2),T=D[0],W=D[1],q=(0,t.useState)(""),B=(0,a.Z)(q,2),O=B[0],G=B[1],U=(0,t.useState)(""),V=(0,a.Z)(U,1)[0],Y=(0,t.useRef)(null),J=(0,o.v9)((function(e){var r;return(null===(r=e.ConfigReducer.activityCategories)||void 0===r?void 0:r.data)||[]})),K=(0,o.v9)((function(e){return e.ConfigReducer.cropCalendar})),Q=(0,o.v9)((function(e){var r;return(null===(r=e.ConfigReducer.cropProfiles)||void 0===r?void 0:r.data)||[]})),X=function(e){I(parseInt(e.target.value))},$=function(){S>1&&R(S-1)},ee=function(){R(S+1)},re=(0,t.useState)(null),ne=(0,a.Z)(re,2),ae=ne[0],te=ne[1],oe=(0,t.useState)(!1),ie=(0,a.Z)(oe,2),le=ie[0],se=ie[1],de=function(){se(!1)},ce=(0,t.useCallback)((function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){switch(e){case"add-category":te((0,k.jsx)(w.GL,{closeHandler:de,cropProfiles:Q,activityCategories:J}));break;case"add-task":te((0,k.jsx)(w.eB,{closeHandler:de,cropProfiles:Q,activityCategories:J}));break;case"delete-activity":te((0,k.jsx)(w.k_,{closeHandler:de,data:r}));break;default:te(null)}se(!0)}}),[J,Q]);(0,t.useEffect)((function(){var e={page:S,search:z};""!==T?e.task_name=T:delete e.task,""!==O?e.category=O:delete e.category,""===V?delete e.status:e.status=V,y((0,b.UA)()),y((0,b.H6)()),y((0,b.Dc)(e))}),[O,y,S,z,V,T]);var ue=(0,t.useMemo)((function(){return[{Header:"Category",accessor:"category.category"},{Header:"Task",accessor:"task"},{Header:"Crop Profile",accessor:"crop_profile.crop_name"},{Header:"Expected Done Date",accessor:"due_date"},{Header:"Weight On Yield",accessor:"crop_profile.yield"},{Header:"Edit",Cell:function(e){e.value,e.row;return(0,k.jsx)(d.Z,{children:(0,k.jsx)(u.vpV,{})})}},{Header:"Delete",Cell:function(e){e.value;var r=e.row.original;return(0,k.jsx)(d.Z,{onClick:ce("delete-activity",r),children:(0,k.jsx)(v.qy0,{})})}}]}),[ce]),ve=(0,t.useMemo)((function(){return(null===K||void 0===K?void 0:K.data)||[]}),[K]);return(0,k.jsxs)(t.Fragment,{children:[(0,k.jsxs)("section",{children:[(0,k.jsx)("nav",{id:"quick-nav",children:(0,k.jsx)(C.Z,{breadcrumbs:[(0,k.jsx)(s.Z,{color:"inherit",children:"Configurations"},"1"),(0,k.jsx)(s.Z,{color:"primary.main",children:"Crop calendar"},"2")]})}),(0,k.jsxs)(i.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{flexWrap:{xs:"wrap",md:"no-wrap"}},children:[(0,k.jsx)(h.Z,{InputProps:{ref:Y,startAdornment:(0,k.jsx)(c.Z,{position:"start",children:(0,k.jsx)(p.o,{fontSize:"small"})})},value:z,onChange:function(e){return N(e.target.value)},placeholder:"Search Crop",sx:{width:"100%",maxWidth:{sm:"250px"}}}),(0,k.jsxs)(i.Z,{direction:"row",spacing:2,sx:{my:2},children:[(0,k.jsx)(m.Z,{href:"/configurations/crop-calendar/manage-categories",value:"Manage Categories",disableElevation:!0}),(0,k.jsx)(m.Z,{onClick:ce("add-category"),value:"Add Category",disableElevation:!0}),(0,k.jsx)(m.Z,{onClick:ce("add-task"),value:"Add Task",disableElevation:!0})]})]}),(0,k.jsxs)("div",{className:"farmmanagementheader flex flex-row items-center overflow-x-auto",style:{marginTop:"1rem !important"},children:[(0,k.jsx)("span",{className:"filtertext mr-2 ml-2",children:"Filter by:"}),(0,k.jsxs)(i.Z,{direction:"row",alignItems:"center",flexWrap:"wrap",children:[(0,k.jsx)("div",{className:"mr-2 ml-2 component-wrapper",children:(0,k.jsx)(g.Z,{width:"100%",height:"32px",noneLabel:(0,k.jsx)("em",{children:"All Categories"}),options:null===J||void 0===J?void 0:J.map((function(e){return{name:e.category,value:e.id}})),sx:{borderRadius:"5px"},backgroundColor:"#FFFFFF",onChange:function(e){return G(e.target.value)}})}),(0,k.jsx)("div",{className:"mr-2 ml-2 component-wrapper",children:(0,k.jsx)(g.Z,{width:"100%",height:"32px",borderRadius:"5px",backgroundColor:"#FFFFFF",noneLabel:(0,k.jsx)("em",{children:"All Tasks"}),options:null===K||void 0===K||null===(e=K.data)||void 0===e?void 0:e.map((function(e){var r;return{name:null===e||void 0===e?void 0:e.task,value:null===e||void 0===e||null===(r=e.task)||void 0===r?void 0:r.toLowerCase()}})),onChange:function(e){return W(e.target.value)}})})]})]}),(0,k.jsxs)(i.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,k.jsxs)("h2",{className:"with-spinner",style:{fontSize:"20px"},children:[(0,k.jsx)("span",{children:"All Activities"}),K.loading?(0,k.jsx)(Z.Z,{size:20,color:"primary"}):""]}),(0,k.jsx)(f.Z,{nextHandler:function(){return ee()},prevHandler:function(){return $()},limitHandler:function(e){return X(e)},totalRecords:(null===K||void 0===K||null===(r=K.data)||void 0===r?void 0:r.length)||0,page:S,limit:E,showLimit:!1,hideOnMobile:!0})]}),(0,k.jsxs)(l.Z,{children:[(0,k.jsx)(x.Z,{columns:ue,data:ve,isLoading:K.loading}),(0,k.jsx)(f.Z,{nextHandler:function(){return ee()},prevHandler:function(){return $()},limitHandler:function(e){return X(e)},totalRecords:(null===K||void 0===K||null===(n=K.data)||void 0===n?void 0:n.length)||0,page:S,limit:E})]})]}),(0,k.jsx)(j.Z,{open:le,closeHandler:de,children:ae})]})}}}]);
//# sourceMappingURL=2907.51e47fd4.chunk.js.map