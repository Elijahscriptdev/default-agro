"use strict";(self.webpackChunkagro_web=self.webpackChunkagro_web||[]).push([[7474],{7068:function(e,t,r){r(2791);var n=r(4373),o=r(184);t.Z=function(e){var t=e.nextHandler,r=e.prevHandler,a=e.limitHandler,i=e.page,c=e.totalRecords,s=void 0===c?0:c,u=e.limit,l=void 0===u?1:u,d=e.showLimit,p=void 0===d||d,f=e.hideOnMobile,v=void 0!==f&&f,h=Math.ceil(s/l);return(0,o.jsxs)("div",{className:"flex justify-end table-controls ".concat(v?"hide-on-mobile":""," "),children:[p&&"false"!==p&&!1!==p?(0,o.jsxs)("div",{className:"filter-input mr-5",children:[(0,o.jsx)("label",{children:"Rows per page: "}),(0,o.jsxs)("select",{onChange:a,children:[(0,o.jsx)("option",{value:"15",children:"15"}),(0,o.jsx)("option",{value:"25",children:"25"}),(0,o.jsx)("option",{value:"50",children:"50"}),(0,o.jsx)("option",{value:"100",children:"100"})]})]}):null,(0,o.jsxs)("div",{className:"flex text-green-500",children:[(0,o.jsxs)("p",{className:"px-4",children:["Viewing ",(i-1)*l+1," -"," ",l*i>s?s:l*i," of"," ",s]}),(0,o.jsx)("button",{disabled:i<=1,onClick:r,children:(0,o.jsx)(n.u1R,{})}),(0,o.jsx)("button",{disabled:i>=h,onClick:t,children:(0,o.jsx)(n.hjJ,{})})]})]})}},5013:function(e,t,r){r.d(t,{Z:function(){return p}});var n=r(1413),o=r(885),a=r(5987),i=r(2791),c=r(7865),s=r(8096),u=r(9321),l=r(184),d=["onChange","noneLabel","options","iconType","sx","backgroundColor"];function p(e){var t,r=e.onChange,p=void 0===r?function(e){}:r,f=e.noneLabel,v=e.options,h=void 0===v?[]:v,x=e.iconType,Z=e.sx,m=void 0===Z?{}:Z,y=(e.backgroundColor,(0,a.Z)(e,d)),g=(0,i.useState)(""),b=(0,o.Z)(g,2),w=b[0],j=b[1];if(!0===(!!x&&"filled"===x))t={"& .MuiSelect-icon":{backgroundColor:"primary.main",fill:"white",height:"100%",width:e.iconwidth||"48px",top:0,right:0}};else t={};return(0,l.jsx)(s.Z,{sx:{borderRadius:"5px",minWidth:120,width:e.width,height:e.height,backgroundColor:e.backgroundColor},children:(0,l.jsxs)(u.Z,(0,n.Z)((0,n.Z)({value:w,onChange:function(e){j(e.target.value),p(e)},displayEmpty:!0,inputProps:{"aria-label":"Without label"},sx:(0,n.Z)((0,n.Z)({overflow:"hidden",boxShadow:e.disableshadow?"none":"0px 5px 20px rgba(108, 117, 125, 0.15)","& *":{border:"none"}},t),m)},y),{},{children:[(0,l.jsx)(c.Z,{value:"",children:f||(0,l.jsx)("em",{children:"None"})}),h.map((function(e,t){return(0,l.jsx)(c.Z,{value:e.value,selected:e.selected,children:e.name||""},t)}))]}))})}},7474:function(e,t,r){r.r(t),r.d(t,{default:function(){return T}});var n=r(885),o=r(2791),a=r(9434),i=r(3767),c=r(8870),s=r(7462),u=r(3366),l=r(8182),d=r(4419),p=r(7630),f=r(1046),v=r(703),h=r(1217),x=r(5878);function Z(e){return(0,h.Z)("MuiCard",e)}(0,x.Z)("MuiCard",["root"]);var m=r(184),y=["className","raised"],g=(0,p.ZP)(v.Z,{name:"MuiCard",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{overflow:"hidden"}})),b=o.forwardRef((function(e,t){var r=(0,f.Z)({props:e,name:"MuiCard"}),n=r.className,o=r.raised,a=void 0!==o&&o,i=(0,u.Z)(r,y),c=(0,s.Z)({},r,{raised:a}),p=function(e){var t=e.classes;return(0,d.Z)({root:["root"]},Z,t)}(c);return(0,m.jsx)(g,(0,s.Z)({className:(0,l.Z)(p.root,n),elevation:a?8:void 0,ref:t,ownerState:c},i))}));function w(e){return(0,h.Z)("MuiCardContent",e)}(0,x.Z)("MuiCardContent",["root"]);var j=["className","component"],k=(0,p.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),C=o.forwardRef((function(e,t){var r=(0,f.Z)({props:e,name:"MuiCardContent"}),n=r.className,o=r.component,a=void 0===o?"div":o,i=(0,u.Z)(r,j),c=(0,s.Z)({},r,{component:a}),p=function(e){var t=e.classes;return(0,d.Z)({root:["root"]},w,t)}(c);return(0,m.jsx)(k,(0,s.Z)({as:a,className:(0,l.Z)(p.root,n),ownerState:c,ref:t},i))})),S=r(890),P=r(5013),R=r(5524),H=r(9373),M=r(7068),A=r(3168),z=r(4165),N=r(5861),W=r(38),E=r(3528),F=r(1386),_=r(7770);function T(){var e,t,s=(0,o.useState)(1),u=(0,n.Z)(s,2),l=u[0],d=u[1],p=(0,o.useState)(10),f=(0,n.Z)(p,2),v=f[0],h=f[1],x=(0,a.v9)((function(e){return e.DashboardReducer.dashboardData})),Z=(0,a.v9)((function(e){return e.DashboardReducer.loading})),y=(0,a.v9)((function(e){var t;return(null===(t=e.ConfigReducer.cropProfiles)||void 0===t?void 0:t.data)||[]})),g=function(e){h(parseInt(e.target.value))},w=function(){l>1&&d(l-1)},j=function(){d(l+1)},k={minWidth:275,boxShadow:"0px 5px 20px rgba(108, 117, 125, 0.15)",backgroundColor:"primary.main",flexGrow:1,marginTop:"10px !important",marginBottom:"10px !important",p:1.8},T=(0,o.useMemo)((function(){return[{Header:"Farmer Name",accessor:"farmer"},{Header:"Lot ID",accessor:"id"},{Header:"Size",accessor:"size"},{Header:"Expected Yield",accessor:"ex_yield"}]}),[]),L=(0,o.useMemo)((function(){return x.lots||[]}),[x.lots]),D=(0,a.I0)();return(0,o.useEffect)((function(){D(function(){var e=(0,N.Z)((0,z.Z)().mark((function e(t){var r;return(0,z.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:F.Q2}),e.next=4,W.Z.get("/dashboard");case 4:(r=e.sent)&&t({type:F.fr,payload:{dashboardData:r}}),e.next=14;break;case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),t({type:F.ki}),(0,E.P)(e.t0,"Error in fetching dashboard details"),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),D((0,_.UA)())}),[D]),(0,m.jsxs)("section",{children:[(0,m.jsx)("nav",{id:"quick-nav",children:(0,m.jsx)("span",{children:"Dashboard"})}),(0,m.jsxs)(i.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{flexWrap:{xs:"wrap",md:"no-wrap"}},children:[(0,m.jsx)(P.Z,{noneLabel:(0,m.jsx)("em",{children:"Select Crop"}),options:y.map((function(e){return{name:e.crop_name,value:e.id}})),sx:{backgroundColor:"#fff",outline:"none","& *":{outline:"none",border:"none"},"& .MuiSelect-select":{p:"10px 15px"}}}),(0,m.jsxs)(i.Z,{direction:"row",spacing:2,sx:{my:2},children:[(0,m.jsx)(R.Z,{href:"/dashboard/farm-analysis",value:"Farm Analysis",disableElevation:!0}),(0,m.jsx)(R.Z,{href:"/dashboard/farm-activities",value:"Farm Activities",disableElevation:!0}),(0,m.jsx)(R.Z,{href:"/dashboard/agent-activities",value:"Agent Activities",disableElevation:!0})]})]}),(0,m.jsx)("h2",{style:{fontSize:"20px"},children:"Activities Map"}),(0,m.jsx)(c.Z,{children:(0,m.jsx)("img",{src:r(5234),width:"100%",alt:"Hello"})}),(0,m.jsxs)(i.Z,{direction:"row",alignItems:"stretch",spacing:3,sx:{mt:6,mb:6,overflowX:"auto",flexWrap:{xs:"wrap",md:"nowrap"}},children:[(0,m.jsx)(b,{sx:k,children:(0,m.jsxs)(C,{sx:{color:"white"},children:[(0,m.jsx)(S.Z,{sx:{fontSize:18,fontWeight:700},color:"inherit",gutterBottom:!0,children:"Total Expected Yield (MT)"}),(0,m.jsx)(S.Z,{variant:"h5",component:"div",sx:{color:"inherit",fontSize:24,fontWeight:800},children:Z?(0,m.jsx)(A.Z,{size:20}):x.total_yield})]})}),(0,m.jsx)(b,{sx:k,children:(0,m.jsxs)(C,{sx:{color:"white"},children:[(0,m.jsx)(S.Z,{sx:{fontSize:18,fontWeight:700},color:"inherit",gutterBottom:!0,children:"Total Acreage (HA)"}),(0,m.jsx)(S.Z,{variant:"h5",component:"div",sx:{color:"inherit",fontSize:24,fontWeight:800},children:Z?(0,m.jsx)(A.Z,{size:20}):x.total_acreage})]})}),(0,m.jsx)(b,{sx:k,children:(0,m.jsxs)(C,{sx:{color:"white"},children:[(0,m.jsx)(S.Z,{sx:{fontSize:18,fontWeight:700},color:"inherit",gutterBottom:!0,children:"Total Number of Farmers"}),(0,m.jsx)(S.Z,{variant:"h5",component:"div",sx:{color:"inherit",fontSize:24,fontWeight:800},children:Z?(0,m.jsx)(A.Z,{size:20}):x.number_of_farmers})]})})]}),(0,m.jsxs)(i.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,m.jsxs)("h2",{className:"with-spinner",style:{fontSize:"20px"},children:[(0,m.jsx)("span",{children:"Expected Yield / Farm"}),Z?(0,m.jsx)(A.Z,{size:20,color:"primary"}):""]}),(0,m.jsx)(M.Z,{nextHandler:function(){return j()},prevHandler:function(){return w()},limitHandler:function(e){return g(e)},totalRecords:(null===(e=x.lots)||void 0===e?void 0:e.length)||0,page:l,limit:v,showLimit:!1,hideOnMobile:!0})]}),(0,m.jsxs)(c.Z,{children:[(0,m.jsx)(H.Z,{columns:T,data:L,isLoading:Z}),(0,m.jsx)(M.Z,{nextHandler:function(){return j()},prevHandler:function(){return w()},limitHandler:function(e){return g(e)},totalRecords:(null===(t=x.lots)||void 0===t?void 0:t.length)||0,limit:v,page:l})]})]})}},7770:function(e,t,r){r.d(t,{Dc:function(){return h},F1:function(){return g},H6:function(){return b},Pb:function(){return x},UA:function(){return p},Uk:function(){return y},_5:function(){return Z},_Y:function(){return d},ck:function(){return m},cq:function(){return v},eH:function(){return l},wr:function(){return f}});var n=r(4165),o=r(5861),a=r(38),i=r(1657),c=r(3528),s=r(4028),u=r(4584),l=function(e){return function(){var t=(0,o.Z)((0,n.Z)().mark((function t(r){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.Z.post("/config/crop-profile",e);case 3:t.sent?((0,i.notify)("Crop profile created",{type:"success"}),r(p())):(0,i.notify)("Failed",{type:"error"}),t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),(0,c.P)(t.t0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=(0,o.Z)((0,n.Z)().mark((function t(r){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.Z.put("/config/crop-profile",e);case 3:t.sent?((0,i.notify)("Crop profile updated",{type:"success"}),r(p())):(0,i.notify)("Failed to update",{type:"error"}),t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),(0,c.P)(t.t0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=(0,o.Z)((0,n.Z)().mark((function t(r){var o,i;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:u.rL}),o=(0,s.r)(e),t.next=5,a.Z.get("/dashboard/crop-profiles".concat(o));case 5:(i=t.sent)&&r({type:u.fu,payload:i}),t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(0),r({type:u.b1}),(0,c.P)(t.t0),t.abrupt("return",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=(0,o.Z)((0,n.Z)().mark((function t(r){var o;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.Z.delete("/config/crop-profile/".concat(e));case 3:(o=t.sent)&&o.success?((0,i.notify)("Crop profile deleted",{type:"success"}),r(p())):(0,i.notify)("Failed to delete",{type:"error"}),t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),(0,c.P)(t.t0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=(0,o.Z)((0,n.Z)().mark((function t(r){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.Z.post("/config/category",e);case 3:t.sent?(0,i.notify)("Crop Category created",{type:"success"}):(0,i.notify)("Failed",{type:"error"}),t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),(0,c.P)(t.t0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=(0,o.Z)((0,n.Z)().mark((function t(r){var o,l,d,p,f;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:u.nE}),l=(0,s.r)(e),t.next=5,a.Z.get("/config/activities/tasks".concat(l));case 5:d=t.sent,p=d.success,f=null===(o=d.result)||void 0===o?void 0:o.data,p&&f?r({type:u.u4,payload:f}):(r({type:u.Gi}),(0,i.notify)(d.message||"An error occured",{type:"error"})),t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(0),r({type:u.Gi}),(0,c.P)(t.t0),t.abrupt("return",t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=(0,o.Z)((0,n.Z)().mark((function t(r){var o;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.Z.post("/config/task",e);case 3:(o=t.sent)?((0,i.notify)("Task created",{type:"success"}),r(h())):(0,i.notify)(o.message||"An error occured",{type:"error"}),t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),(0,c.P)(t.t0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},Z=function(e){return function(){var t=(0,o.Z)((0,n.Z)().mark((function t(r){var o;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.Z.delete("/config/task",{data:e});case 3:(o=t.sent).success?((0,i.notify)("Task deleted successfully",{type:"success"}),r(h())):(0,i.notify)(o.message||"An error occured",{type:"error"}),t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),(0,c.P)(t.t0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=(0,o.Z)((0,n.Z)().mark((function t(r){var o,l,d,p,f,v,h,x;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:u.yz}),d=(0,s.r)(e),t.next=5,a.Z.get("/config/seasons".concat(d));case 5:p=t.sent,f=p.success,v=null===(o=p.result)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.data,f&&v?r({type:u.xm,payload:{data:v,total:null===(h=p.result)||void 0===h||null===(x=h.data)||void 0===x?void 0:x.total}}):(r({type:u.Ro}),(0,i.notify)(p.message||"An error occured",{type:"error"})),t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(0),r({type:u.Ro}),(0,c.P)(t.t0),t.abrupt("return",t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=(0,o.Z)((0,n.Z)().mark((function t(r){var o;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.Z.post("/config/season",e);case 3:(o=t.sent)?((0,i.notify)("Season created",{type:"success"}),r(m())):(0,i.notify)(o.message||"An error occured",{type:"error"}),t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),(0,c.P)(t.t0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=(0,o.Z)((0,n.Z)().mark((function t(r){var o;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.Z.put("/config/season",e);case 3:(o=t.sent)?((0,i.notify)("Season updated successfully",{type:"success"}),r(m())):(0,i.notify)(o.message||"An error occured",{type:"error"}),t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),(0,c.P)(t.t0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=(0,o.Z)((0,n.Z)().mark((function t(r){var o,l,d,p,f;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:u.Vt}),l=(0,s.r)(e),t.next=5,a.Z.get("/config/categories".concat(l));case 5:d=t.sent,p=d.success,f=null===(o=d.result)||void 0===o?void 0:o.data,p&&f?r({type:u.RJ,payload:{data:f,total:(null===f||void 0===f?void 0:f.length)||0}}):(r({type:u.oi}),(0,i.notify)(d.message||"An error occured",{type:"error"})),t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(0),r({type:u.oi}),(0,c.P)(t.t0),t.abrupt("return",t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}},5234:function(e,t,r){e.exports=r.p+"static/media/map.d03fd63df6f83ab21e5f.jpg"}}]);
//# sourceMappingURL=7474.8ee2158f.chunk.js.map