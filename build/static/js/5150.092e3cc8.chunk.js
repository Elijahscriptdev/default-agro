"use strict";(self.webpackChunkagro_web=self.webpackChunkagro_web||[]).push([[5150],{1303:function(e,r,n){n.d(r,{SV:function(){return o},cE:function(){return t}});var t={borderRadius:"5px",backgroundColor:"#F3F3F4",width:{md:"477.61px",xs:"100%"},"& fieldset":{border:"none"}},o={minWidth:{xs:"320px",md:"initial"}}},5013:function(e,r,n){n.d(r,{Z:function(){return p}});var t=n(1413),o=n(885),s=n(5987),a=n(2791),i=n(7865),u=n(8096),c=n(9321),l=n(184),d=["onChange","noneLabel","options","iconType","sx","backgroundColor"];function p(e){var r,n=e.onChange,p=void 0===n?function(e){}:n,m=e.noneLabel,f=e.options,h=void 0===f?[]:f,x=e.iconType,v=e.sx,g=void 0===v?{}:v,b=(e.backgroundColor,(0,s.Z)(e,d)),y=(0,a.useState)(""),Z=(0,o.Z)(y,2),w=Z[0],j=Z[1];if(!0===(!!x&&"filled"===x))r={"& .MuiSelect-icon":{backgroundColor:"primary.main",fill:"white",height:"100%",width:e.iconwidth||"48px",top:0,right:0}};else r={};return(0,l.jsx)(u.Z,{sx:{borderRadius:"5px",minWidth:120,width:e.width,height:e.height,backgroundColor:e.backgroundColor},children:(0,l.jsxs)(c.Z,(0,t.Z)((0,t.Z)({value:w,onChange:function(e){j(e.target.value),p(e)},displayEmpty:!0,inputProps:{"aria-label":"Without label"},sx:(0,t.Z)((0,t.Z)({overflow:"hidden",boxShadow:e.disableshadow?"none":"0px 5px 20px rgba(108, 117, 125, 0.15)","& *":{border:"none"}},r),g)},b),{},{children:[(0,l.jsx)(i.Z,{value:"",children:m||(0,l.jsx)("em",{children:"None"})}),h.map((function(e,r){return(0,l.jsx)(i.Z,{value:e.value,selected:e.selected,children:e.name||""},r)}))]}))})}},4496:function(e,r,n){n(2791);var t=n(184);r.Z=function(e){var r=e.value,n=e.type,o={boxSizing:"border-box",width:"auto",height:"26px",padding:"8px",borderRadius:"13px",borderWidth:"0.6px",display:"flex",justifyContent:"center",alignItems:"center"},s={fontSize:"12px",fontWeight:600,display:"block"};switch(void 0===n?"pending":n){case"success":o.backgroundColor="#F6FFED",o.borderColor="#B7EB8F",s.color="#52C41A";break;case"pending":o.backgroundColor="#FFF7E6",o.borderColor="#FA8C16",s.color="#FA8C16";break;default:o.backgroundColor="#FFF1F0",o.borderColor="#F5222D",s.color="#F5222D"}return(0,t.jsx)("div",{style:o,children:(0,t.jsx)("span",{style:s,children:r})})}},5150:function(e,r,n){n.r(r);var t=n(1413),o=n(885),s=n(4165),a=n(5861),i=n(2791),u=n(9434),c=n(6871),l=n(5705),d=n(132),p=n(3767),m=n(890),f=n(533),h=n(7123),x=n(254),v=n(5013),g=n(3168),b=n(5865),y=n(5524),Z=n(4496),w=n(4034),j=n(38),F=n(1657),k=n(5163),C=n(4298),N=n(5750),S=n(7770),P=n(1350),z=n(1303),_=n(184),A=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(r){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.Z.get("/farms/".concat(r));case 3:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.result);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}();r.default=function(){var e,r,n,j,B,I=(0,u.I0)(),R=(0,i.useState)({}),D=(0,o.Z)(R,2),M=D[0],L=D[1],W=(0,i.useState)(!1),q=(0,o.Z)(W,2),U=q[0],E=q[1],V=(0,i.useState)(!1),T=(0,o.Z)(V,2),O=T[0],G=T[1],H=(0,c.UO)(),J=(0,u.v9)((function(e){var r;return null===(r=e.AppReducer)||void 0===r?void 0:r.states})),Q=(0,u.v9)((function(e){var r;return(null===(r=e.AuthReducer)||void 0===r?void 0:r.userProfile)||JSON.parse(sessionStorage.getItem("user_profile"))})),X=(0,t.Z)((0,t.Z)({},z.cE),{},{width:(0,t.Z)((0,t.Z)({},z.cE.width),{},{md:"auto"})}),Y=(0,u.v9)((function(e){var r;return(null===(r=e.AppReducer)||void 0===r?void 0:r.localGovt)||[]})),$=(0,u.v9)((function(e){var r;return(null===(r=e.UserManagementReducer)||void 0===r?void 0:r.farmers)||{}})),K=(0,u.v9)((function(e){var r;return(null===(r=e.ConfigReducer)||void 0===r?void 0:r.cropProfiles)||{}})),ee=function(e){return function(r){r.target.value?I((0,C.zW)(r.target.value)):I({type:P.UZ,payload:{localGovt:[]}}),e(r)}},re=d.Ry({state:w.t.blank().required("State is required").matches(/\d+/g),address:w.t.blank().required("Address is required"),community:w.t.blank().required("Local govt is required"),crop:w.t.blank().required("Crop is required").matches(/\d+/g),farmer:w.t.blank().required("Farmer is required")}),ne=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(r){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!0),e.next=4,A(r);case 4:null!==(n=e.sent)&&void 0!==n&&n.farm?(L(null===n||void 0===n?void 0:n.farm),E(!1)):((0,F.notify)("Failed to get farm",{type:"error"}),E(!1)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),(0,F.notify)(e.t0,{type:"error"}),E(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){ne(H.farmId),I((0,C.Pz)({})),I((0,N.n9)({page:1})),I((0,S.UA)())}),[Q,I,H.farmId]),(0,i.useEffect)((function(){var e,r;null!==M&&void 0!==M&&null!==(e=M.state)&&void 0!==e&&e.state_id&&I((0,C.zW)(null===M||void 0===M||null===(r=M.state)||void 0===r?void 0:r.state_id))}),[I,null===M||void 0===M||null===(e=M.state)||void 0===e?void 0:e.state_id]),(0,_.jsx)(i.Fragment,{children:(0,_.jsxs)("section",{children:[(0,_.jsx)("nav",{id:"quick-nav",children:(0,_.jsx)(b.Z,{breadcrumbs:[(0,_.jsx)(m.Z,{color:"inherit",children:"Farm Management"},"1"),(0,_.jsx)(f.Z,{href:"/farm-management/farm-lots",color:"inherit",children:"Farm Units"},"2"),(0,_.jsx)(m.Z,{color:"primary.main",children:"Edit Farm Unit"},"3")]})}),(0,_.jsxs)(p.Z,{direction:"row",px:2,py:3,alignItems:"flex-start",sx:{flexWrap:{xs:"wrap",sm:"no-wrap"},backgroundColor:"#FFF",boxShadow:"0px 5px 20px rgba(108, 117, 125, 0.15)",borderRadius:"5px"},children:[(0,_.jsxs)(p.Z,{direction:"column",alignItems:"flex-start",sx:{flexGrow:{xs:1,md:0},pl:{xs:2},minWidth:"180px"},children:[(0,_.jsxs)("h2",{className:"with-spinner",style:{fontSize:"20px"},children:[(0,_.jsx)("span",{children:"Edit Farm Unit"}),U?(0,_.jsx)(g.Z,{size:20,color:"primary"}):""]}),(0,_.jsxs)(p.Z,{direction:"column",alignItems:"flex-start",spacing:.6,children:[(0,_.jsx)("span",{style:{fontSize:"15px",fontWeight:800},children:(null===M||void 0===M?void 0:M.farm_id)||"-"}),(0,_.jsx)("span",{style:{fontSize:"14px",marginBottom:"10px",textTransform:"uppercase"},children:"".concat((null===M||void 0===M||null===(r=M.farmer)||void 0===r?void 0:r.first_name)||"-"," ").concat((null===M||void 0===M||null===(n=M.farmer)||void 0===n?void 0:n.last_name)||"-")}),(0,_.jsx)(Z.Z,{value:null!==M&&void 0!==M&&M.mapped?"Mapped":"Not Mapped",type:null!==M&&void 0!==M&&M.mapped?"success":"error"})]})]}),(0,_.jsx)(p.Z,{sx:{ml:{xs:0,md:2},flexGrow:1},children:(0,_.jsx)(l.J9,{enableReinitialize:!0,initialValues:{state:(null===M||void 0===M||null===(j=M.state)||void 0===j?void 0:j.state_id)||"",community:(null===M||void 0===M?void 0:M.community)||"",address:(null===M||void 0===M?void 0:M.address)||"",size:(null===M||void 0===M?void 0:M.size)||0,clay:(null===M||void 0===M?void 0:M.clay)||0,slit:(null===M||void 0===M?void 0:M.slit)||0,loam:(null===M||void 0===M?void 0:M.loam)||0,nitrogen:(null===M||void 0===M?void 0:M.nitrogen)||0,phosphorus:(null===M||void 0===M?void 0:M.phosphorus)||0,potassium:(null===M||void 0===M?void 0:M.potassium)||0,crop:(null===M||void 0===M?void 0:M.crop)||"",farmer:(null===M||void 0===M||null===(B=M.farmer)||void 0===B?void 0:B.id)||""},validationSchema:re,onSubmit:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(r,n){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.resetForm,t={state:r.state,community:r.community,address:r.address,size:r.size,crop:r.crop,clay:r.clay,slit:r.slit,loam:r.loam,nitrogen:r.nitrogen,phosphorus:r.phosphorus,potassium:r.potassium,farmer:r.farmer},console.log(t),G(!0),I((0,k.iQ)(H.farmId,t)).then((function(){G(!1),ne(H.farmId)}));case 6:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),children:function(e){var r=e.values,n=e.errors,t=e.touched,o=e.handleChange,s=e.handleBlur,a=e.handleSubmit;return(0,_.jsxs)("form",{onSubmit:a,className:"flex flex-col",style:{flexGrow:1},children:[(0,_.jsxs)(p.Z,{direction:"row",justifyContent:"space-between",sx:{flexWrap:{xs:"wrap",md:"nowrap"}},children:[(0,_.jsxs)(p.Z,{direction:"column",sx:{mx:1,width:"100%"},children:[(0,_.jsxs)("label",{htmlFor:"state",className:"second-text mb-4 mt-6 ",children:["State ",(0,_.jsx)("small",{className:"text-red-500",children:"*"})]}),(0,_.jsx)(v.Z,{id:"state",name:"state",value:r.state,onChange:ee(o),onBlur:s,noneLabel:(0,_.jsx)("em",{children:"Select State"}),options:Object.values(J).map((function(e){return{name:e.name,value:e.state_id}})),iconType:"filled",width:{xs:"100%"},height:"44px",sx:{backgroundColor:"grey"},backgroundColor:"#F3F3F4",iconwidth:"48px",disableshadow:"true",className:n.state&&t.state?"input-error":null}),n.state&&t.state&&(0,_.jsx)("span",{className:"error",children:n.state})]}),(0,_.jsxs)(p.Z,{direction:"column",sx:{mx:1,width:"100%"},children:[(0,_.jsxs)("label",{htmlFor:"community",className:"second-text mb-4 mt-6",children:["LGA ",(0,_.jsx)("small",{className:"text-red-500",children:"*"})]}),(0,_.jsx)(v.Z,{id:"community",name:"community",value:r.community,onChange:o,onBlur:s,noneLabel:(0,_.jsx)("em",{children:"Select LGA"}),options:Y.map((function(e){return{name:e.local_name,value:e.local_id}})),iconType:"filled",width:{xs:"100%"},height:"44px",sx:{backgroundColor:"grey"},backgroundColor:"#F3F3F4",iconwidth:"48px",disableshadow:"true",className:n.community&&t.community?"input-error":null}),n.community&&t.community&&(0,_.jsx)("span",{className:"error",children:n.community})]})]}),(0,_.jsxs)(p.Z,{direction:"column",sx:{mx:1},children:[(0,_.jsxs)("label",{htmlFor:"address",className:"second-text mb-4 mt-4",children:["Address ",(0,_.jsx)("small",{className:"text-red-500",children:"*"})]}),(0,_.jsx)(x.Z,{id:"address",name:"address",value:r.address,onChange:o,onBlur:s,sx:X,InputProps:{style:{height:"44px"}},className:n.address&&t.address?"input-error":null}),n.address&&t.address&&(0,_.jsx)("span",{className:"error",children:n.address})]}),(0,_.jsxs)(p.Z,{direction:"row",justifyContent:"space-between",sx:{flexWrap:{xs:"wrap",lg:"nowrap"}},children:[(0,_.jsxs)(p.Z,{direction:"column",sx:{mx:1,width:"100%"},children:[(0,_.jsx)("label",{htmlFor:"clay",className:"second-text mb-4 mt-4",children:"Soil Profile (Clay) %"}),(0,_.jsx)(x.Z,{id:"clay",name:"clay",onChange:o,onBlur:s,value:r.clay,type:"number",sx:X,InputProps:{style:{height:"44px"}},className:n.clay&&t.clay?"input-error":null}),n.clay&&t.clay&&(0,_.jsx)("span",{className:"error",children:n.clay})]}),(0,_.jsxs)(p.Z,{direction:"column",sx:{mx:1,width:"100%"},children:[(0,_.jsx)("label",{htmlFor:"phosphorus",className:"second-text mb-4 mt-4",children:"Phosphorus ( mg/L)"}),(0,_.jsx)(x.Z,{id:"phosphorus",name:"phosphorus",onChange:o,onBlur:s,value:r.phosphorus,type:"number",sx:X,InputProps:{style:{height:"44px"}},className:n.phosphorus&&t.phosphorus?"input-error":null}),n.phosphorus&&t.phosphorus&&(0,_.jsx)("span",{className:"error",children:n.phosphorus})]})]}),(0,_.jsxs)(p.Z,{direction:"row",justifyContent:"space-between",sx:{flexWrap:{xs:"wrap",lg:"nowrap"}},children:[(0,_.jsxs)(p.Z,{direction:"column",sx:{mx:1,width:"100%"},children:[(0,_.jsx)("label",{htmlFor:"loam",className:"second-text mb-4 mt-4",children:"Soil Profile (Loam) %"}),(0,_.jsx)(x.Z,{id:"loam",name:"loam",onChange:o,onBlur:s,value:r.loam,type:"number",sx:X,InputProps:{style:{height:"44px"}},className:n.loam&&t.loam?"input-error":null}),n.loam&&t.loam&&(0,_.jsx)("span",{className:"error",children:n.loam})]}),(0,_.jsxs)(p.Z,{direction:"column",sx:{mx:1,width:"100%"},children:[(0,_.jsx)("label",{htmlFor:"nitrogen",className:"second-text mb-4 mt-4",children:"Nitrogen (mg/L)"}),(0,_.jsx)(x.Z,{id:"nitrogen",name:"nitrogen",onChange:o,onBlur:s,value:r.nitrogen,type:"number",sx:X,InputProps:{style:{height:"44px"}},className:n.nitrogen&&t.nitrogen?"input-error":null}),n.nitrogen&&t.nitrogen&&(0,_.jsx)("span",{className:"error",children:n.nitrogen})]})]}),(0,_.jsxs)(p.Z,{direction:"row",justifyContent:"space-between",sx:{flexWrap:{xs:"wrap",lg:"nowrap"}},children:[(0,_.jsxs)(p.Z,{direction:"column",sx:{mx:1,width:"100%"},children:[(0,_.jsx)("label",{htmlFor:"slit",className:"second-text mb-4 mt-4",children:"Soil Profile (Slit) %"}),(0,_.jsx)(x.Z,{id:"slit",name:"slit",value:r.slit,onChange:o,onBlur:s,type:"number",sx:X,InputProps:{style:{height:"44px"}},className:n.slit&&t.slit?"input-error":null}),n.slit&&t.slit&&(0,_.jsx)("span",{className:"error",children:n.slit})]}),(0,_.jsxs)(p.Z,{direction:"column",sx:{mx:1,width:"100%"},children:[(0,_.jsx)("label",{htmlFor:"potassium",className:"second-text mb-4 mt-4",children:"Potassium (mg/L)"}),(0,_.jsx)(x.Z,{id:"potassium",name:"potassium",value:r.potassium,onChange:o,onBlur:s,type:"number",sx:X,InputProps:{style:{height:"44px"}},className:n.potassium&&t.potassium?"input-error":null}),n.potassium&&t.potassium&&(0,_.jsx)("span",{className:"error",children:n.potassium})]})]}),(0,_.jsxs)(p.Z,{direction:"column",sx:{mx:1},children:[(0,_.jsx)("label",{htmlFor:"size",className:"second-text mb-4 mt-4",children:"Size (Ha)"}),(0,_.jsx)(x.Z,{id:"size",name:"size",value:r.size,onChange:o,onBlur:s,type:"number",sx:X,InputProps:{style:{height:"44px"}},className:n.size&&t.size?"input-error":null}),n.size&&t.size&&(0,_.jsx)("span",{className:"error",children:n.size})]}),(0,_.jsxs)(p.Z,{direction:"row",justifyContent:"space-between",sx:{flexWrap:{xs:"wrap",lg:"nowrap"}},children:[(0,_.jsxs)(p.Z,{direction:"column",sx:{mx:1,width:"100%"},children:[(0,_.jsxs)("label",{htmlFor:"crop",className:"second-text mb-4 mt-4",children:["Crop ",(0,_.jsx)("small",{className:"text-red-500",children:"*"})]}),(0,_.jsx)(v.Z,{id:"crop",name:"crop",value:r.crop,onChange:o,onBlur:s,noneLabel:(0,_.jsx)("em",{children:"Select Crop"}),options:null===K||void 0===K?void 0:K.data.map((function(e){return{name:e.crop_name,value:e.id}})),iconType:"filled",width:"auto",height:"44px",sx:{backgroundColor:"grey"},backgroundColor:"#F3F3F4",disableshadow:"true",iconwidth:"48px",className:n.crop&&t.crop?"input-error":null}),n.crop&&t.crop&&(0,_.jsx)("span",{className:"error",children:n.crop})]}),(0,_.jsxs)(p.Z,{direction:"column",sx:{mx:1,width:"100%"},children:[(0,_.jsxs)("label",{htmlFor:"farmer",className:"second-text mb-4 mt-4",children:["Farmer ",(0,_.jsx)("small",{className:"text-red-500",children:"*"})]}),(0,_.jsx)(v.Z,{id:"farmer",name:"farmer",value:r.farmer,onChange:o,onBlur:s,noneLabel:(0,_.jsx)("em",{children:"Select Farmer"}),options:null===$||void 0===$?void 0:$.data.map((function(e){return{name:"".concat(e.first_name," ").concat(e.last_name),value:e.id}})),iconType:"filled",width:"auto",height:"44px",sx:{backgroundColor:"grey"},backgroundColor:"#F3F3F4",disableshadow:"true",iconwidth:"48px",className:n.farmer&&t.farmer?"input-error":null}),n.farmer&&t.farmer&&(0,_.jsx)("span",{className:"error",children:n.farmer})]})]}),(0,_.jsx)(h.Z,{children:(0,_.jsx)("div",{className:"buttons mt-8",children:(0,_.jsx)(y.Z,{type:"submit",value:O?"Updating...":"Submit",sx:{fontSize:"14px",borderRadius:"5px"},disabled:0===Object.keys(M).length||O})})})]})}})})]})]})})}},5750:function(e,r,n){n.d(r,{NM:function(){return g},qH:function(){return F},cn:function(){return p},PH:function(){return y},x7:function(){return m},AI:function(){return k},h8:function(){return h},Cm:function(){return Z},sg:function(){return w},n9:function(){return x},wM:function(){return v},ZO:function(){return j},Rf:function(){return d},fP:function(){return b},Nq:function(){return f}});var t=n(4165),o=n(5861),s=n(38),a=n(1657),i=n(3528),u=n(4028);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=new FormData;return Object.keys(e).length>0&&(console.log({body:e}),Object.keys(e).forEach((function(n){r.append(n,e[n])}))),r}var l=n(4329),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var r=(0,o.Z)((0,t.Z)().mark((function r(n){var o,a,c,d;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.page||1,a=e.limit||10,c=(0,u.r)(e),n({type:l.Ny}),e=(0,u.r)(e),r.prev=5,r.next=8,s.Z.get("/viewusers?page=".concat(o,"&limit=").concat(a,"&query=").concat(c));case 8:d=r.sent,n({type:l.Oz,payload:d}),r.next=18;break;case 12:return r.prev=12,r.t0=r.catch(5),console.log(r.t0),n({type:l.wX}),(0,i.P)(r.t0,"Failed to fetch users"),r.abrupt("return",r.t0);case 18:case"end":return r.stop()}}),r,null,[[5,12]])})));return function(e){return r.apply(this,arguments)}}()},p=function(e){return function(){var r=(0,o.Z)((0,t.Z)().mark((function r(n){var o;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.Z.post("/users",e);case 3:if(null===(o=r.sent)||void 0===o||!o.success||null===o||void 0===o||!o.result){r.next=8;break}return(0,a.notify)("User added successfully",{type:"success"}),n({type:l.qH,payload:o.result}),r.abrupt("return",o);case 8:r.next=16;break;case 10:return r.prev=10,r.t0=r.catch(0),console.log(r.t0),n({type:l.Jh}),(0,i.P)(r.t0,"Failed to add user"),r.abrupt("return",r.t0);case 16:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e){return r.apply(this,arguments)}}()},m=function(e){return function(){var r=(0,o.Z)((0,t.Z)().mark((function r(n){var o;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e=c(e),r.next=4,(0,s.V)("formData").post("/users/bulk-upload",e,{});case 4:null!==(o=r.sent)&&void 0!==o&&o.success&&null!==o&&void 0!==o&&o.result&&((0,a.notify)("Users uploaded successfully",{type:"success"}),n(d({page:1}))),r.next=13;break;case 8:return r.prev=8,r.t0=r.catch(0),console.log(r.t0),(0,i.P)(r.t0,"Failed to upload users"),r.abrupt("return",r.t0);case 13:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},f=function(e,r){return function(){var n=(0,o.Z)((0,t.Z)().mark((function n(o){var u;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,s.Z.patch("/users/".concat(e),r);case 3:if(null===(u=n.sent)||void 0===u||!u.success||null===u||void 0===u||!u.result){n.next=7;break}return(0,a.notify)("User Updated successfully",{type:"success"}),n.abrupt("return",u);case 7:n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(0),console.log(n.t0),(0,i.P)(n.t0,"Failed to update user"),n.abrupt("return",n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},h=function(e){return function(){var r=(0,o.Z)((0,t.Z)().mark((function r(n){return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.Z.delete("/users/".concat(e));case 3:r.sent&&((0,a.notify)("User deleted successfully",{type:"success"}),n(d({page:1}))),r.next=12;break;case 7:return r.prev=7,r.t0=r.catch(0),console.log(r.t0),(0,i.P)(r.t0,"Failed to delete user"),r.abrupt("return",r.t0);case 12:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var r=(0,o.Z)((0,t.Z)().mark((function r(n){var o,a;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n({type:l._l}),e=(0,u.r)(e),r.prev=2,r.next=5,s.Z.get("/farmers".concat(e));case 5:null!==(o=r.sent)&&void 0!==o&&o.success&&null!==o&&void 0!==o&&o.result?n({type:l.cj,payload:null===o||void 0===o||null===(a=o.result)||void 0===a?void 0:a.data}):n({type:l.eZ}),r.next=15;break;case 9:return r.prev=9,r.t0=r.catch(2),console.log(r.t0),n({type:l.eZ}),(0,i.P)(r.t0),r.abrupt("return",r.t0);case 15:case"end":return r.stop()}}),r,null,[[2,9]])})));return function(e){return r.apply(this,arguments)}}()},v=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(r){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("/farmers/".concat(r));case 3:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.result);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),g=function(e){return function(){var r=(0,o.Z)((0,t.Z)().mark((function r(n){var o;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.Z.post("/farmers",e);case 3:return null!==(o=r.sent)&&void 0!==o&&o.success&&null!==o&&void 0!==o&&o.result&&((0,a.notify)("Farmer added successfully",{type:"success"}),n({type:l.Du,payload:o.result}),n(x({page:1}))),r.abrupt("return",o);case 8:return r.prev=8,r.t0=r.catch(0),console.log(r.t0),n({type:l.$0}),(0,i.P)(r.t0,"Failed to add farmer"),r.abrupt("return",r.t0);case 14:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},b=function(e,r){return function(){var n=(0,o.Z)((0,t.Z)().mark((function n(o){var u;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,s.Z.patch("/farmers/".concat(e),r);case 3:return null!==(u=n.sent)&&void 0!==u&&u.success&&null!==u&&void 0!==u&&u.result&&(0,a.notify)("Farmer updated successfully",{type:"success"}),n.abrupt("return",u);case 8:return n.prev=8,n.t0=n.catch(0),console.log(n.t0),(0,i.P)(n.t0,"Failed to update farmer"),n.abrupt("return",n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},y=function(e){return function(){var r=(0,o.Z)((0,t.Z)().mark((function r(n){var o;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e=c(e),r.next=4,(0,s.V)("formData")({method:"post",url:"/farmers/bulk-upload",data:e});case 4:null!==(o=r.sent)&&void 0!==o&&o.success&&null!==o&&void 0!==o&&o.result&&((0,a.notify)("Farmers uploaded successfully",{type:"success"}),n(x({page:1}))),r.next=13;break;case 8:return r.prev=8,r.t0=r.catch(0),console.log(r.t0),(0,i.P)(r.t0,"Failed to add farmer"),r.abrupt("return",r.t0);case 13:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},Z=function(e,r){return function(){var n=(0,o.Z)((0,t.Z)().mark((function n(o){var u;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,s.Z.post("/farmers/downloads/process-farmer-details",e);case 3:null!==(u=n.sent)&&void 0!==u&&u.success&&null!==u&&void 0!==u&&u.result&&((0,a.notify)("Farmers exported successfully",{type:"success"}),r("/user-management/farmers/exports")),n.next=12;break;case 7:return n.prev=7,n.t0=n.catch(0),console.log(n.t0),(0,i.P)(n.t0,"Failed to export farmers"),n.abrupt("return",n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},w=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(){var r,n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("/farmers/downloads");case 3:if(null===(r=e.sent)||void 0===r||!r.success||null===r||void 0===r||!r.result){e.next=6;break}return e.abrupt("return",null===r||void 0===r||null===(n=r.result)||void 0===n?void 0:n.data);case 6:return e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),(0,i.P)(e.t0,"Failed to fetch exports"),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var r=(0,o.Z)((0,t.Z)().mark((function r(n){var o,a;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n({type:l.jt}),e=(0,u.r)(e),r.prev=2,r.next=5,s.Z.get("/sourcing-partners".concat(e));case 5:a=r.sent,n({type:l.rE,payload:null===a||void 0===a||null===(o=a.result)||void 0===o?void 0:o.sourcing_partners}),r.next=15;break;case 9:return r.prev=9,r.t0=r.catch(2),console.log(r.t0),n({type:l.ZU}),(0,i.P)(r.t0,"Failed to fetch sourcing agents"),r.abrupt("return",r.t0);case 15:case"end":return r.stop()}}),r,null,[[2,9]])})));return function(e){return r.apply(this,arguments)}}()},F=function(e){return function(){var r=(0,o.Z)((0,t.Z)().mark((function r(n){var o;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.Z.post("/sourcing-partners",e);case 3:return o=r.sent,console.log(o),null!==o&&void 0!==o&&o.success&&null!==o&&void 0!==o&&o.result&&((0,a.notify)("Sourcing agent added successfully",{type:"success"}),n({type:l.YJ,payload:o.result})),r.abrupt("return",o);case 9:return r.prev=9,r.t0=r.catch(0),console.log(r.t0),n({type:l.Dv}),(0,i.P)(r.t0,"Failed to add sourcing agent"),r.abrupt("return",r.t0);case 15:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},k=function(e){return function(){var r=(0,o.Z)((0,t.Z)().mark((function r(n){return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.Z.delete("/sourcing-partners/".concat(e));case 3:r.sent&&((0,a.notify)("Sourcing agent deleted successfully",{type:"success"}),n(j({page:1}))),r.next=12;break;case 7:return r.prev=7,r.t0=r.catch(0),console.log(r.t0),(0,i.P)(r.t0,"Failed to delete sourcing agent"),r.abrupt("return",r.t0);case 12:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()}},4034:function(e,r,n){n.d(r,{t:function(){return o}});var t=n(132),o={name:function(e){return t.Z_().min(3,e?"".concat(e," must be 3 or more characters"):"Must be 3 or more characters")},number:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e20;return t.Rx().min(r,e?"".concat(e," must be greater than ").concat(r):"Must be greater than ".concat(r)).max(n,e?"".concat(e," must be less than ").concat(n):"Must be less than ".concat(n))},email:function(e){return t.Z_().email()},password:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:24;return t.Z_().min(r,e?"".concat(e," must be ").concat(r," or more characters"):"Must be 8 or more characters").max(n,e?"".concat(e," is too long"):"Too long")},date:function(e){return t.Z_().matches(/(\d{4}(-|\/|\\)\d{1,2}(-|\/|\\)\d{1,2})|(\d{1,2}(-|\/|\\)\d{1,2}(-|\/|\\)\d{4})/gi)},mobile:function(e){return t.Z_().matches(/[0-9)(+]/gi,"Invalid number")},bvn:function(e){return t.Z_().matches(/\d{11}/g,"Invalid BVN").length(11,"BVN must be 11 digits long")},blank:function(){return t.Z_()}}},7123:function(e,r,n){n.d(r,{Z:function(){return h}});var t=n(3366),o=n(7462),s=n(2791),a=n(8182),i=n(4419),u=n(7630),c=n(1046),l=n(1217);function d(e){return(0,l.Z)("MuiDialogActions",e)}(0,n(5878).Z)("MuiDialogActions",["root","spacing"]);var p=n(184),m=["className","disableSpacing"],f=(0,u.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,r){var n=e.ownerState;return[r.root,!n.disableSpacing&&r.spacing]}})((function(e){var r=e.ownerState;return(0,o.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!r.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),h=s.forwardRef((function(e,r){var n=(0,c.Z)({props:e,name:"MuiDialogActions"}),s=n.className,u=n.disableSpacing,l=void 0!==u&&u,h=(0,t.Z)(n,m),x=(0,o.Z)({},n,{disableSpacing:l}),v=function(e){var r=e.classes,n={root:["root",!e.disableSpacing&&"spacing"]};return(0,i.Z)(n,d,r)}(x);return(0,p.jsx)(f,(0,o.Z)({className:(0,a.Z)(v.root,s),ownerState:x,ref:r},h))}))},533:function(e,r,n){n.d(r,{Z:function(){return N}});var t=n(2982),o=n(885),s=n(4942),a=n(3366),i=n(7462),u=n(2791),c=n(8182),l=n(4419),d=n(4036),p=n(7630),m=n(1046),f=n(3031),h=n(2071),x=n(890),v=n(1217);function g(e){return(0,v.Z)("MuiLink",e)}var b=(0,n(5878).Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),y=n(8529),Z=n(2065),w={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},j=function(e){var r=e.theme,n=e.ownerState,t=function(e){return w[e]||e}(n.color),o=(0,y.D)(r,"palette.".concat(t),!1)||n.color,s=(0,y.D)(r,"palette.".concat(t,"Channel"));return"vars"in r&&s?"rgba(".concat(s," / 0.4)"):(0,Z.Fq)(o,.4)},F=n(184),k=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],C=(0,p.ZP)(x.Z,{name:"MuiLink",slot:"Root",overridesResolver:function(e,r){var n=e.ownerState;return[r.root,r["underline".concat((0,d.Z)(n.underline))],"button"===n.component&&r.button]}})((function(e){var r=e.theme,n=e.ownerState;return(0,i.Z)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&(0,i.Z)({textDecoration:"underline"},"inherit"!==n.color&&{textDecorationColor:j({theme:r,ownerState:n})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===n.component&&(0,s.Z)({position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(b.focusVisible),{outline:"auto"}))})),N=u.forwardRef((function(e,r){var n=(0,m.Z)({props:e,name:"MuiLink"}),s=n.className,p=n.color,x=void 0===p?"primary":p,v=n.component,b=void 0===v?"a":v,y=n.onBlur,Z=n.onFocus,j=n.TypographyClasses,N=n.underline,S=void 0===N?"always":N,P=n.variant,z=void 0===P?"inherit":P,_=n.sx,A=(0,a.Z)(n,k),B=(0,f.Z)(),I=B.isFocusVisibleRef,R=B.onBlur,D=B.onFocus,M=B.ref,L=u.useState(!1),W=(0,o.Z)(L,2),q=W[0],U=W[1],E=(0,h.Z)(r,M),V=(0,i.Z)({},n,{color:x,component:b,focusVisible:q,underline:S,variant:z}),T=function(e){var r=e.classes,n=e.component,t=e.focusVisible,o=e.underline,s={root:["root","underline".concat((0,d.Z)(o)),"button"===n&&"button",t&&"focusVisible"]};return(0,l.Z)(s,g,r)}(V);return(0,F.jsx)(C,(0,i.Z)({color:x,className:(0,c.Z)(T.root,s),classes:j,component:b,onBlur:function(e){R(e),!1===I.current&&U(!1),y&&y(e)},onFocus:function(e){D(e),!0===I.current&&U(!0),Z&&Z(e)},ref:E,ownerState:V,variant:z,sx:[].concat((0,t.Z)(Object.keys(w).includes(x)?[]:[{color:x}]),(0,t.Z)(Array.isArray(_)?_:[_]))},A))}))}}]);
//# sourceMappingURL=5150.092e3cc8.chunk.js.map