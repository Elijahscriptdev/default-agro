"use strict";(self.webpackChunkagro_web=self.webpackChunkagro_web||[]).push([[7962],{1303:function(e,n,t){t.d(n,{SV:function(){return i},cE:function(){return r}});var r={borderRadius:"5px",backgroundColor:"#F3F3F4",width:{md:"477.61px",xs:"100%"},"& fieldset":{border:"none"}},i={minWidth:{xs:"320px",md:"initial"}}},7068:function(e,n,t){t(2791);var r=t(4373),i=t(184);n.Z=function(e){var n=e.nextHandler,t=e.prevHandler,a=e.limitHandler,o=e.page,s=e.totalRecords,c=void 0===s?0:s,l=e.limit,u=void 0===l?1:l,d=e.showLimit,p=void 0===d||d,x=e.hideOnMobile,h=void 0!==x&&x,v=Math.ceil(c/u);return(0,i.jsxs)("div",{className:"flex justify-end table-controls ".concat(h?"hide-on-mobile":""," "),children:[p&&"false"!==p&&!1!==p?(0,i.jsxs)("div",{className:"filter-input mr-5",children:[(0,i.jsx)("label",{children:"Rows per page: "}),(0,i.jsxs)("select",{onChange:a,children:[(0,i.jsx)("option",{value:"15",children:"15"}),(0,i.jsx)("option",{value:"25",children:"25"}),(0,i.jsx)("option",{value:"50",children:"50"}),(0,i.jsx)("option",{value:"100",children:"100"})]})]}):null,(0,i.jsxs)("div",{className:"flex text-green-500",children:[(0,i.jsxs)("p",{className:"px-4",children:["Viewing ",(o-1)*u+1," -"," ",u*o>c?c:u*o," of"," ",c]}),(0,i.jsx)("button",{disabled:o<=1,onClick:t,children:(0,i.jsx)(r.u1R,{})}),(0,i.jsx)("button",{disabled:o>=v,onClick:n,children:(0,i.jsx)(r.hjJ,{})})]})]})}},3715:function(e,n,t){var r=t(1413),i=t(5987),a=(t(2791),t(254)),o=t(184),s=["sx","placeholder","value"];n.Z=function(e){var n=e.sx,t=void 0===n?{}:n,c=e.placeholder,l=void 0===c?"":c,u=e.value,d=void 0===u?"":u,p=(0,i.Z)(e,s);return(0,o.jsx)(a.Z,(0,r.Z)({placeholder:l,sx:(0,r.Z)({p:0,border:"1px solid rgba(0, 150, 136, 0.2)",borderRadius:"5px",backgroundColor:"#FFF","& *":{borderColor:"transparent"},"& input":{padding:"10px"}},t),value:d},p))}},5013:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(1413),i=t(885),a=t(5987),o=t(2791),s=t(7865),c=t(8096),l=t(9321),u=t(184),d=["onChange","noneLabel","options","iconType","sx","backgroundColor"];function p(e){var n,t=e.onChange,p=void 0===t?function(e){}:t,x=e.noneLabel,h=e.options,v=void 0===h?[]:h,m=e.iconType,f=e.sx,g=void 0===f?{}:f,Z=(e.backgroundColor,(0,a.Z)(e,d)),b=(0,o.useState)(""),y=(0,i.Z)(b,2),j=y[0],w=y[1];if(!0===(!!m&&"filled"===m))n={"& .MuiSelect-icon":{backgroundColor:"primary.main",fill:"white",height:"100%",width:e.iconwidth||"48px",top:0,right:0}};else n={};return(0,u.jsx)(c.Z,{sx:{borderRadius:"5px",minWidth:120,width:e.width,height:e.height,backgroundColor:e.backgroundColor},children:(0,u.jsxs)(l.Z,(0,r.Z)((0,r.Z)({value:j,onChange:function(e){w(e.target.value),p(e)},displayEmpty:!0,inputProps:{"aria-label":"Without label"},sx:(0,r.Z)((0,r.Z)({overflow:"hidden",boxShadow:e.disableshadow?"none":"0px 5px 20px rgba(108, 117, 125, 0.15)","& *":{border:"none"}},n),g)},Z),{},{children:[(0,u.jsx)(s.Z,{value:"",children:x||(0,u.jsx)("em",{children:"None"})}),v.map((function(e,n){return(0,u.jsx)(s.Z,{value:e.value,selected:e.selected,children:e.name||""},n)}))]}))})}},6416:function(e,n,t){t.d(n,{o:function(){return a}});var r=t(9201),i=t(184),a=(0,r.Z)((0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search")},7962:function(e,n,t){t.r(n),t.d(n,{default:function(){return F}});var r=t(885),i=(t(2426),t(2791)),a=t(9434),o=t(8870),s=t(3767),c=t(3400),l=t(7425),u=t(7692),d=t(9373),p=t(7068),x=t(5524),h=(t(3168),t(2214)),v=t(6416),m=t(1006),f=t(4165),g=t(5861),Z=t(5705),b=t(254),y=t(7123),j=t(203),w=t(5013),C=t(1303),S=t(184),_=function(e){var n=e.closeHandler,t=(0,a.I0)(),c=(0,i.useState)(!1),l=(0,r.Z)(c,2),u=l[0],d=l[1];return(0,S.jsxs)(o.Z,{sx:C.SV,children:[(0,S.jsx)(j.Z,{title:"Add Input Type",closeHandler:n}),(0,S.jsx)(Z.J9,{initialValues:{input_type:"",association:"",quantity:1,season_name:""},validate:function(e){var n={};return e.input_type?/[A-Za-z0-9]{2,}/gi.test(e.name)||(n.input_type="Name must be alphabets and greater than 2 characters"):n.input_type="Name is required",e.association||(n.association="Association is required"),e.expected_qty?e.expected_qty&&e.expected_qty<1&&(n.expected_qty="Quantity must be more than 0"):n.expected_qty="Quantity is required",n},onSubmit:function(){var e=(0,g.Z)((0,f.Z)().mark((function e(r,i){var a,o;return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=i.resetForm,o={input_type:r.input_type,association:r.association,expected_qty:r.quantity,season_name:r.season_name},d(!0),t((0,m.rd)(o)).then((function(){d(!1),a(),n()}));case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),children:function(e){var t=e.values,r=e.errors,i=e.touched,a=e.handleChange,o=e.handleBlur,c=e.handleSubmit;return(0,S.jsxs)("form",{onSubmit:c,children:[(0,S.jsxs)(s.Z,{direction:"column",children:[(0,S.jsx)("label",{htmlFor:"input_type",className:"second-text my-3",children:"Name"}),(0,S.jsx)(b.Z,{sx:C.cE,id:"input_type",name:"input_type",InputProps:{style:{height:"44px"}},onChange:a,onBlur:o,value:t.input_type,className:r.input_type&&i.input_type?"input-error":null}),r.input_type&&i.input_type&&(0,S.jsx)("span",{className:"error",children:r.input_type})]}),(0,S.jsxs)(s.Z,{direction:"column",children:[(0,S.jsx)("label",{htmlFor:"association",className:"second-text my-3",children:"Association"}),(0,S.jsx)(w.Z,{id:"association",name:"association",value:t.association,onChange:a,onBlur:o,noneLabel:(0,S.jsx)("em",{children:"Select Association"}),iconType:"filled",width:C.cE.width,height:"44px",sx:C.cE,backgroundColor:"#F3F3F4",disableshadow:"true",iconwidth:"48px",options:[{name:"Cassava Farms Limited",value:"Cassava Farms Limited"}],className:r.association&&i.association?"input-error":null}),r.association&&i.association&&(0,S.jsx)("span",{className:"error",children:r.association})]}),(0,S.jsxs)(s.Z,{direction:"column",children:[(0,S.jsx)("label",{htmlFor:"expected_qty",className:"second-text my-3",children:"Expected Quantity"}),(0,S.jsx)(b.Z,{sx:C.cE,id:"expected_qty",name:"expected_qty",type:"number",InputProps:{style:{height:"44px"}},onChange:a,onBlur:o,value:t.expected_qty,min:"1",className:r.expected_qty&&i.expected_qty?"input-error":null}),r.expected_qty&&i.expected_qty&&(0,S.jsx)("span",{className:"error",children:r.expected_qty})]}),(0,S.jsx)(y.Z,{children:(0,S.jsxs)("div",{className:"buttons mt-8",children:[(0,S.jsx)("div",{className:"",children:(0,S.jsx)(x.Z,{value:"Cancel",onClick:n,sx:{fontSize:"14px",color:"#A9A9A9",backgroundColor:"white",borderRadius:"5px"}})}),(0,S.jsx)("div",{className:"mx-6",children:(0,S.jsx)(x.Z,{type:"submit",value:u?"Adding...":"Submit",sx:{fontSize:"14px",borderRadius:"5px"}})})]})})]})}})]})},k=function(e){var n=e.closeHandler,t=(e.data,(0,a.I0)(),(0,i.useState)(!1)),o=(0,r.Z)(t,2),s=o[0];o[1];return(0,S.jsxs)("div",{className:"",children:[(0,S.jsx)("h2",{className:"second-text my-1 text-center",style:{maxWidth:"300px"},children:"Are you sure you wanna delete this input?"}),(0,S.jsxs)("div",{className:"buttons mt-2 justify-evenly",children:[(0,S.jsx)(x.Z,{value:"Cancel",onClick:n,sx:{color:"#A9A9A9",backgroundColor:"white"}}),(0,S.jsx)(x.Z,{value:s?"Deleting...":"Delete",onClick:function(e){return console.log("delete")},sx:{color:"white",backgroundColor:"red"}})]})]})},N=t(3715),A=t(3466),F=function(){var e=(0,a.I0)(),n=(0,a.v9)((function(e){return e.InputReducer.inputs})),t=(0,a.v9)((function(e){return e.InputReducer.loading})),f=(0,a.v9)((function(e){return e.InputReducer.total})),g=(0,i.useState)(1),Z=(0,r.Z)(g,2),b=Z[0],y=Z[1],j=(0,i.useState)(15),w=(0,r.Z)(j,2),C=w[0],F=w[1],q=(0,i.useRef)(null),R=(0,i.useState)(""),E=(0,r.Z)(R,2),I=E[0],P=E[1],H=(0,i.useState)(null),L=(0,r.Z)(H,2),M=L[0],z=L[1],T=(0,i.useState)(!1),D=(0,r.Z)(T,2),B=D[0],W=D[1],V=function(){W(!1)},Q=(0,i.useCallback)((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(t){switch(e){case"add-input":z((0,S.jsx)(_,{closeHandler:V}));break;case"delete-input":z((0,S.jsx)(k,{closeHandler:V,data:n}));break;default:z(null)}W(!0)}}),[]);(0,i.useEffect)((function(){e((0,m.G9)({page:b}))}),[e,b]);var G=(0,i.useMemo)((function(){return[{Header:"Name",accessor:"name"},{Header:"Description",accessor:"description"},{Header:"Tenants",accessor:"tenant_id"},{Header:"Edit",Cell:function(e){e.value;var n=e.row.original;return(0,S.jsx)(c.Z,{href:"/user-management/edit-user/".concat(n.id),children:(0,S.jsx)(u.vpV,{})})}},{Header:"Delete",Cell:function(e){e.value;var n=e.row.original;return(0,S.jsx)(c.Z,{children:(0,S.jsx)(l.qy0,{onClick:Q("delete-input",n)})})}}]}),[Q]),J=(0,i.useMemo)((function(){return n||[]}),[n]);return(0,S.jsxs)(i.Fragment,{children:[(0,S.jsxs)("section",{children:[(0,S.jsx)("nav",{id:"quick-nav",children:(0,S.jsx)("span",{children:"Input Tracking"})}),(0,S.jsxs)(o.Z,{sx:{padding:"20px 40px",background:"#FFFFFF",borderRadius:"10px"},children:[(0,S.jsx)("h2",{className:"with-spinner",style:{fontSize:"20px"},children:(0,S.jsx)("span",{children:"All Tenants"})}),(0,S.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{flexWrap:{xs:"wrap",md:"nowrap"},marginBottom:"20px"},children:[(0,S.jsx)(N.Z,{InputProps:{ref:q,startAdornment:(0,S.jsx)(A.Z,{position:"start",children:(0,S.jsx)(v.o,{fontSize:"small"})})},value:I,onChange:function(e){return P(e.target.value)},placeholder:"Search customers",sx:{width:"100%",maxWidth:{sm:"250px"}}}),(0,S.jsx)(s.Z,{direction:"row",spacing:2,sx:{mt:{xs:2,md:0},mb:{xs:2,md:0}},children:(0,S.jsx)(x.Z,{href:"/tenants/add-tenant",value:"Create New Tenant",disableElevation:!0})})]}),(0,S.jsxs)(o.Z,{children:[(0,S.jsx)(d.Z,{columns:G,data:J,isLoading:t}),(0,S.jsx)(p.Z,{nextHandler:function(){y(b+1)},prevHandler:function(){b>1&&y(b-1)},limitHandler:function(e){return function(e){F(parseInt(e.target.value))}(e)},totalRecords:f,page:b,limit:C})]})]})]}),(0,S.jsx)(h.Z,{open:B,closeHandler:V,children:M})]})}},1006:function(e,n,t){t.d(n,{G9:function(){return p},rd:function(){return d},y6:function(){return x}});var r=t(1413),i=t(4165),a=t(5861),o=t(38),s=t(1657),c=t(4028),l=t(3528),u=t(9075),d=function(e){return function(){var n=(0,a.Z)((0,i.Z)().mark((function n(t){var r;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.Z.post("/input-types",e);case 3:null!==(r=n.sent)&&void 0!==r&&r.success?(0,s.notify)("Input created",{type:"success"}):(0,s.notify)(r.message||"An error occured",{type:"error"}),n.next=12;break;case 7:return n.prev=7,n.t0=n.catch(0),console.log(n.t0),(0,l.P)(n.t0,"Failed to add input"),n.abrupt("return",n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var n=(0,a.Z)((0,i.Z)().mark((function n(t){var a,s,d;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return 1,10,a=(0,c.r)((0,r.Z)({page:1,limit:10},e)),n.prev=3,t({type:u.AF}),n.next=7,o.Z.get("/viewtenants?page=".concat(1,"&limit=").concat(10,"&query=").concat(a));case 7:d=n.sent,console.log("response",d),d.success,null===(s=d.result)||void 0===s?void 0:s.input_types,t({type:u.Zh,payload:{data:d.data,total:d.totalpages}}),n.next=20;break;case 14:return n.prev=14,n.t0=n.catch(3),console.log(n.t0),t({type:u.ly}),(0,l.P)(n.t0),n.abrupt("return",n.t0);case 20:case"end":return n.stop()}}),n,null,[[3,14]])})));return function(e){return n.apply(this,arguments)}}()},x=function(e){return function(){var n=(0,a.Z)((0,i.Z)().mark((function n(t){var r;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.Z.delete("/input-types/".concat(e.id));case 3:null!==(r=n.sent)&&void 0!==r&&r.success?(0,s.notify)("Input deleted",{type:"success"}):(0,s.notify)(r.message||"An error occured",{type:"error"}),n.next=12;break;case 7:return n.prev=7,n.t0=n.catch(0),console.log(n.t0),(0,l.P)(n.t0,"Failed to delete input"),n.abrupt("return",n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}},7123:function(e,n,t){t.d(n,{Z:function(){return v}});var r=t(3366),i=t(7462),a=t(2791),o=t(8182),s=t(4419),c=t(7630),l=t(1046),u=t(1217);function d(e){return(0,u.Z)("MuiDialogActions",e)}(0,t(5878).Z)("MuiDialogActions",["root","spacing"]);var p=t(184),x=["className","disableSpacing"],h=(0,c.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,!t.disableSpacing&&n.spacing]}})((function(e){var n=e.ownerState;return(0,i.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!n.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),v=a.forwardRef((function(e,n){var t=(0,l.Z)({props:e,name:"MuiDialogActions"}),a=t.className,c=t.disableSpacing,u=void 0!==c&&c,v=(0,r.Z)(t,x),m=(0,i.Z)({},t,{disableSpacing:u}),f=function(e){var n=e.classes,t={root:["root",!e.disableSpacing&&"spacing"]};return(0,s.Z)(t,d,n)}(m);return(0,p.jsx)(h,(0,i.Z)({className:(0,o.Z)(f.root,a),ownerState:m,ref:n},v))}))},3466:function(e,n,t){t.d(n,{Z:function(){return j}});var r=t(4942),i=t(3366),a=t(7462),o=t(2791),s=t(8182),c=t(4419),l=t(4036),u=t(890),d=t(3840),p=t(2930),x=t(7630),h=t(1217);function v(e){return(0,h.Z)("MuiInputAdornment",e)}var m,f=(0,t(5878).Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),g=t(1046),Z=t(184),b=["children","className","component","disablePointerEvents","disableTypography","position","variant"],y=(0,x.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n["position".concat((0,l.Z)(t.position))],!0===t.disablePointerEvents&&n.disablePointerEvents,n[t.variant]]}})((function(e){var n=e.theme,t=e.ownerState;return(0,a.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(n.vars||n).palette.action.active},"filled"===t.variant&&(0,r.Z)({},"&.".concat(f.positionStart,"&:not(.").concat(f.hiddenLabel,")"),{marginTop:16}),"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})})),j=o.forwardRef((function(e,n){var t=(0,g.Z)({props:e,name:"MuiInputAdornment"}),r=t.children,x=t.className,h=t.component,f=void 0===h?"div":h,j=t.disablePointerEvents,w=void 0!==j&&j,C=t.disableTypography,S=void 0!==C&&C,_=t.position,k=t.variant,N=(0,i.Z)(t,b),A=(0,p.Z)()||{},F=k;k&&A.variant,A&&!F&&(F=A.variant);var q=(0,a.Z)({},t,{hiddenLabel:A.hiddenLabel,size:A.size,disablePointerEvents:w,position:_,variant:F}),R=function(e){var n=e.classes,t=e.disablePointerEvents,r=e.hiddenLabel,i=e.position,a=e.size,o=e.variant,s={root:["root",t&&"disablePointerEvents",i&&"position".concat((0,l.Z)(i)),o,r&&"hiddenLabel",a&&"size".concat((0,l.Z)(a))]};return(0,c.Z)(s,v,n)}(q);return(0,Z.jsx)(d.Z.Provider,{value:null,children:(0,Z.jsx)(y,(0,a.Z)({as:f,ownerState:q,className:(0,s.Z)(R.root,x),ref:n},N,{children:"string"!==typeof r||S?(0,Z.jsxs)(o.Fragment,{children:["start"===_?m||(m=(0,Z.jsx)("span",{className:"notranslate",children:"\u200b"})):null,r]}):(0,Z.jsx)(u.Z,{color:"text.secondary",children:r})}))})}))}}]);
//# sourceMappingURL=7962.3a9199c0.chunk.js.map